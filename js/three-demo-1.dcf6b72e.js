"use strict";(self["webpackChunkwebxr_builder"]=self["webpackChunkwebxr_builder"]||[]).push([[804],{1429:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var o=a(3396);const n={class:"three-demo-wall"},s=(0,o._)("h1",null,"Three.js Wall",-1),r={class:"renderer-wrapper"};function i(e,t,a,i,l,h){const d=(0,o.up)("Camera"),u=(0,o.up)("AmbientLight"),p=(0,o.up)("SpotLight"),c=(0,o.up)("PhongMaterial"),m=(0,o.up)("Plane"),f=(0,o.up)("SphereGeometry"),w=(0,o.up)("ToonMaterial"),C=(0,o.up)("InstancedMesh"),g=(0,o.up)("Box"),M=(0,o.up)("CannonWorld"),y=(0,o.up)("Scene"),W=(0,o.up)("Renderer");return(0,o.wg)(),(0,o.iD)("div",n,[s,(0,o._)("div",r,[(0,o.Wm)(W,{ref:"renderer",antialias:"","orbit-ctrl":"",resize:"",shadow:"",onClick:h.randomColors},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{position:{z:7}}),(0,o.Wm)(y,{background:"white"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{color:"#ffffff"}),(0,o.Wm)(p,{color:"#ffffff",intensity:5,position:{x:0,y:1,z:2},angle:Math.PI/3,penumbra:.5,"cast-shadow":"","shadow-map-size":{width:1024,height:1024}},null,8,["angle"]),(0,o.Wm)(p,{color:"#ff0000",intensity:5,position:{x:0,y:-1,z:2},angle:Math.PI/3,penumbra:.5,"cast-shadow":"","shadow-map-size":{width:1024,height:1024}},null,8,["angle"]),(0,o.Wm)(m,{width:15,height:15,position:{z:-.1},"receive-shadow":""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{color:"#aaaaaa"})])),_:1}),(0,o.Wm)(M,{gravity:{x:0,y:-9.82,z:0},onBeforeStep:h.onBeforeStep},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{ref:"imeshC",count:i.COUNT,onCreated:h.initIMesh,"cast-shadow":""},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{radius:.1,"width-segments":16,"height-segments":16}),(0,o.Wm)(w)])),_:1},8,["count","onCreated"]),((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(6,(e=>(0,o.Wm)(g,{key:`box-${e}`,width:3,height:.05,depth:.2,position:{x:1*(e%2===0?1:-1),y:1.5*(e-3.5),z:0},rotation:{z:(e%2===0?1:-1)*Math.PI/6},"cast-shadow":""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{color:"#aaaaaa"})])),_:2},1032,["position","rotation"]))),64))])),_:1},8,["onBeforeStep"])])),_:1})])),_:1},8,["onClick"])])])}var l=a(1114),h=a(239),d=a(6789),u=a(4580);const{randFloat:p,randFloatSpread:c}=l.MathUtils;var m={components:{AmbientLight:h.Mi,Box:h.xu,Camera:h.V1,InstancedMesh:h.SP,PhongMaterial:h.JF,Plane:h.JO,Renderer:h.Th,Scene:h.xs,SphereGeometry:h.xo,SpotLight:h.PM,ToonMaterial:h.h,CannonWorld:d.Z},setup(){return{COUNT:500}},methods:{initIMesh(e){this.imesh=e;const t=new l.Tme,a=new l.Ilk,o=new Array(this.COUNT),n=new Array(this.COUNT),s=new Array(this.COUNT).fill().map((()=>u[20][Math.floor(p(0,5))]));for(let r=0;r<this.COUNT;r++){t.position.set(c(2),c(5),0);const i=p(.2,1);o[r]=i,n[r]=.01*i,t.scale.set(i,i,i),t.updateMatrix(),e.setMatrixAt(r,t.matrix),e.setColorAt(r,a.set(s[r]))}e.instanceMatrix.needsUpdate=!0,e.userData.scales=o,e.userData.masses=n,e.userData.damping=.7},onBeforeStep(){this.imesh.userData.bodies.forEach((e=>{e.position.y<-7&&(e.position.set(c(2),p(5,7),0),e.angularVelocity.set(0,0,0,0),e.velocity.set(0,0,0),e.quaternion.set(0,0,0,1))}))},randomColors(){const e=Math.floor(p(0,100)),t=new l.Ilk,a=new Array(this.COUNT).fill().map((()=>u[e][Math.floor(p(0,5))]));for(let o=0;o<this.COUNT;o++)this.imesh.setColorAt(o,t.set(a[o]));this.imesh.instanceColor.needsUpdate=!0}}},f=a(89);const w=(0,f.Z)(m,[["render",i]]);var C=w}}]);
//# sourceMappingURL=three-demo-1.dcf6b72e.js.map