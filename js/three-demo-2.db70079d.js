"use strict";(self["webpackChunkwebxr_builder"]=self["webpackChunkwebxr_builder"]||[]).push([[923],{4619:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var r=s(3396);const o={class:"three-demo-2"},a=(0,r._)("h1",null,"Three.js Sphere",-1),n={class:"renderer-wrapper"};function i(e,t,s,i,h,l){const p=(0,r.up)("Camera"),d=(0,r.up)("AmbientLight"),m=(0,r.up)("SpotLight"),u=(0,r.up)("SphereGeometry"),c=(0,r.up)("PhongMaterial"),f=(0,r.up)("InstancedMesh"),w=(0,r.up)("Sphere"),C=(0,r.up)("CannonWorld"),g=(0,r.up)("Scene"),W=(0,r.up)("RenderPass"),M=(0,r.up)("UnrealBloomPass"),S=(0,r.up)("FXAAPass"),y=(0,r.up)("EffectComposer"),b=(0,r.up)("Renderer");return(0,r.wg)(),(0,r.iD)("div",o,[a,(0,r._)("div",n,[(0,r.Wm)(b,{ref:"renderer",pointer:"",resize:"",shadow:"",onClick:l.randomColors},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{position:{z:2.5}}),(0,r.Wm)(g,{background:"white"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{color:"#ffffff"}),(0,r.Wm)(m,{color:"#ffffff",intensity:5,position:{x:0,y:3,z:2},angle:Math.PI/8,penumbra:.1,"cast-shadow":"","shadow-map-size":{width:2048,height:2048}},null,8,["angle"]),(0,r.Wm)(m,{color:"#ff0000",intensity:5,position:{x:0,y:-3,z:2},angle:Math.PI/8,penumbra:.1,"cast-shadow":"","shadow-map-size":{width:2048,height:2048}},null,8,["angle"]),(0,r.Wm)(C,{gravity:{x:0,y:0,z:0},onBeforeStep:l.onBeforeStep},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{ref:"imeshC",count:i.COUNT,onCreated:l.initIMesh,"cast-shadow":"","receive-shadow":""},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{radius:.1,"width-segments":16,"height-segments":16}),(0,r.Wm)(c)])),_:1},8,["count","onCreated"]),((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(3,(e=>(0,r.Wm)(w,{key:`sphere-${e}`,radius:.25,position:{x:e-2},"width-segments":16,"height-segments":16,"receive-shadow":""},{default:(0,r.w5)((()=>[(0,r.Wm)(c)])),_:2},1032,["position"]))),64))])),_:1},8,["onBeforeStep"])])),_:1}),(0,r.Wm)(y,null,{default:(0,r.w5)((()=>[(0,r.Wm)(W),(0,r.Wm)(M,{strength:.5,threshold:.99}),(0,r.Wm)(S)])),_:1})])),_:1},8,["onClick"])])])}var h=s(1114),l=s(239),p=s(6789),d=s(4580);const{randFloat:m,randFloatSpread:u}=h.MathUtils;var c={components:{AmbientLight:l.Mi,Camera:l.V1,CannonWorld:p.Z,EffectComposer:l.xC,FXAAPass:l.Tz,InstancedMesh:l.SP,PhongMaterial:l.JF,Renderer:l.Th,RenderPass:l.CD,Scene:l.xs,Sphere:l.aL,SphereGeometry:l.xo,SpotLight:l.PM,UnrealBloomPass:l.mi},setup(){return{COUNT:250}},methods:{onBeforeStep(){const e=new h.Pa4,t=this.$refs.renderer.three.pointer.positionV3;this.imesh.userData.bodies.forEach((s=>{e.copy(t).sub(s.position).normalize().multiplyScalar(.5),e.clampScalar(-.5,.5),s.force.copy(e)}))},initIMesh(e){this.imesh=e;const t=new h.Tme,s=new h.Ilk,r=new Array(this.COUNT),o=new Array(this.COUNT),a=new Array(this.COUNT).fill().map((()=>d[20][Math.floor(m(0,5))]));for(let n=0;n<this.COUNT;n++){t.position.set(u(2),u(2),u(2));const i=m(.2,1);r[n]=i,o[n]=i,t.scale.set(i,i,i),t.updateMatrix(),e.setMatrixAt(n,t.matrix),e.setColorAt(n,s.set(a[n]))}e.instanceMatrix.needsUpdate=!0,e.userData.scales=r,e.userData.masses=o,e.userData.damping=.1},randomColors(){const e=Math.floor(m(0,100)),t=new h.Ilk,s=new Array(this.COUNT).fill().map((()=>d[e][Math.floor(m(0,5))]));for(let r=0;r<this.COUNT;r++)this.imesh.setColorAt(r,t.set(s[r]));this.imesh.instanceColor.needsUpdate=!0}}},f=s(89);const w=(0,f.Z)(c,[["render",i]]);var C=w}}]);
//# sourceMappingURL=three-demo-2.db70079d.js.map