{"version":3,"file":"js/three-webvr-examples.34320253.js","mappings":"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","sources":["webpack://webxr-builder/./src/views/ThreeWebVRExamples.vue","webpack://webxr-builder/./node_modules/three/examples/jsm/loaders/RGBELoader.js","webpack://webxr-builder/./node_modules/three/examples/jsm/objects/Reflector.js","webpack://webxr-builder/./node_modules/three/examples/jsm/interactive/HTMLMesh.js","webpack://webxr-builder/./node_modules/three/examples/jsm/interactive/InteractiveGroup.js","webpack://webxr-builder/./node_modules/three/examples/jsm/libs/lil-gui.module.min.js","webpack://webxr-builder/./node_modules/three/examples/jsm/libs/stats.module.js","webpack://webxr-builder/./src/views/ThreeWebVRExamples.vue?0377","webpack://webxr-builder/./node_modules/three/examples/jsm/webxr/VRButton.js"],"sourcesContent":["<template>\n  <div class=\"three-demo-1\">\n    <h1>Three.js WebVR</h1>\n    <div id=\"vr-renderer-wrapper\"></div>\n  </div>\n</template>\n\n<script>\nimport * as THREE from 'three'\n\nimport { RGBELoader } from 'three/addons/loaders/RGBELoader.js'\nimport { Reflector } from 'three/addons/objects/Reflector.js'\nimport { VRButton } from 'three/addons/webxr/VRButton.js'\n\nimport { HTMLMesh } from 'three/addons/interactive/HTMLMesh.js'\nimport { InteractiveGroup } from 'three/addons/interactive/InteractiveGroup.js'\nimport { XRControllerModelFactory } from 'three/addons/webxr/XRControllerModelFactory.js'\n\nimport { GUI } from 'three/addons/libs/lil-gui.module.min.js'\nimport Stats from 'three/addons/libs/stats.module.js'\n\nexport default {\n  // TODO\n  mounted() {\n    let camera, scene, renderer\n    let reflector\n    let stats, statsMesh\n\n    const parameters = {\n      radius: 0.6,\n      tube: 0.2,\n      tubularSegments: 150,\n      radialSegments: 20,\n      p: 2,\n      q: 3,\n      thickness: 0.5\n    }\n\n    init()\n    animate()\n\n    function init() {\n      scene = new THREE.Scene()\n\n      // TODO\n      new RGBELoader().load('moonless_golf_1k.hdr', function (texture) {\n        texture.mapping = THREE.EquirectangularReflectionMapping\n\n        scene.background = texture\n        scene.environment = texture\n      })\n\n      camera = new THREE.PerspectiveCamera(\n        50,\n        window.innerWidth / window.innerHeight,\n        0.1,\n        10\n      )\n      camera.position.set(0, 1.6, 1.5)\n\n      //\n\n      const torusGeometry = new THREE.TorusKnotGeometry(\n        ...Object.values(parameters)\n      )\n      const torusMaterial = new THREE.MeshPhysicalMaterial({\n        transmission: 1.0,\n        roughness: 0,\n        metalness: 0.25,\n        thickness: 0.5,\n        side: THREE.DoubleSide\n      })\n      const torus = new THREE.Mesh(torusGeometry, torusMaterial)\n      torus.name = 'torus'\n      torus.position.y = 1.5\n      torus.position.z = -2\n      scene.add(torus)\n\n      const cylinderGeometry = new THREE.CylinderGeometry(1, 1, 0.1, 50)\n      const cylinderMaterial = new THREE.MeshStandardMaterial()\n      const cylinder = new THREE.Mesh(cylinderGeometry, cylinderMaterial)\n      cylinder.position.z = -2\n      scene.add(cylinder)\n\n      //\n\n      reflector = new Reflector(new THREE.PlaneGeometry(2, 2), {\n        textureWidth: window.innerWidth,\n        textureHeight: window.innerHeight\n      })\n      reflector.position.x = 1\n      reflector.position.y = 1.5\n      reflector.position.z = -3\n      reflector.rotation.y = -Math.PI / 4\n      scene.add(reflector)\n\n      const frameGeometry = new THREE.BoxGeometry(2.1, 2.1, 0.1)\n      const frameMaterial = new THREE.MeshPhongMaterial()\n      const frame = new THREE.Mesh(frameGeometry, frameMaterial)\n      frame.position.z = -0.07\n      reflector.add(frame)\n\n      //\n\n      renderer = new THREE.WebGLRenderer({ antialias: true })\n      renderer.autoClear = false\n      renderer.setPixelRatio(window.devicePixelRatio)\n      renderer.setSize(window.innerWidth, window.innerHeight)\n      renderer.xr.enabled = true\n      renderer.toneMapping = THREE.ACESFilmicToneMapping\n      renderer.toneMappingExposure = 1\n      const rendererWrapper = document.getElementById('vr-renderer-wrapper')\n      rendererWrapper.appendChild(renderer.domElement)\n\n      document.body.appendChild(VRButton.createButton(renderer))\n\n      window.addEventListener('resize', onWindowResize)\n\n      //\n\n      const geometry = new THREE.BufferGeometry()\n      geometry.setFromPoints([\n        new THREE.Vector3(0, 0, 0),\n        new THREE.Vector3(0, 0, -5)\n      ])\n\n      const controller1 = renderer.xr.getController(0)\n      controller1.add(new THREE.Line(geometry))\n      scene.add(controller1)\n\n      const controller2 = renderer.xr.getController(1)\n      controller2.add(new THREE.Line(geometry))\n      scene.add(controller2)\n\n      //\n\n      const controllerModelFactory = new XRControllerModelFactory()\n\n      const controllerGrip1 = renderer.xr.getControllerGrip(0)\n      controllerGrip1.add(\n        controllerModelFactory.createControllerModel(controllerGrip1)\n      )\n      scene.add(controllerGrip1)\n\n      const controllerGrip2 = renderer.xr.getControllerGrip(1)\n      controllerGrip2.add(\n        controllerModelFactory.createControllerModel(controllerGrip2)\n      )\n      scene.add(controllerGrip2)\n\n      // GUI\n\n      function onChange() {\n        torus.geometry.dispose()\n        torus.geometry = new THREE.TorusKnotGeometry(\n          ...Object.values(parameters)\n        )\n      }\n\n      function onThicknessChange() {\n        torus.material.thickness = parameters.thickness\n      }\n\n      const gui = new GUI({ width: 300 })\n      gui.add(parameters, 'radius', 0.0, 1.0).onChange(onChange)\n      gui.add(parameters, 'tube', 0.0, 1.0).onChange(onChange)\n      gui.add(parameters, 'tubularSegments', 10, 150, 1).onChange(onChange)\n      gui.add(parameters, 'radialSegments', 2, 20, 1).onChange(onChange)\n      gui.add(parameters, 'p', 1, 10, 1).onChange(onChange)\n      gui.add(parameters, 'q', 0, 10, 1).onChange(onChange)\n      gui.add(parameters, 'thickness', 0, 1).onChange(onThicknessChange)\n      gui.domElement.style.visibility = 'hidden'\n\n      // TODO\n      const group = new InteractiveGroup(renderer, camera)\n      // group.listenToPointerEvents(renderer, camera)\n      // group.listenToXRControllerEvents(controller1)\n      // group.listenToXRControllerEvents(controller2)\n      scene.add(group)\n\n      const mesh = new HTMLMesh(gui.domElement)\n      mesh.position.x = -0.75\n      mesh.position.y = 1.5\n      mesh.position.z = -0.5\n      mesh.rotation.y = Math.PI / 4\n      mesh.scale.setScalar(2)\n      group.add(mesh)\n\n      // Add stats.js\n      stats = new Stats()\n      stats.dom.id = 'stats'\n      stats.dom.style.width = '80px'\n      stats.dom.style.height = '48px'\n      document.body.appendChild(stats.dom)\n\n      statsMesh = new HTMLMesh(stats.dom)\n      statsMesh.position.x = -0.75\n      statsMesh.position.y = 2\n      statsMesh.position.z = -0.6\n      statsMesh.rotation.y = Math.PI / 4\n      statsMesh.scale.setScalar(2.5)\n      group.add(statsMesh)\n    }\n\n    function onWindowResize() {\n      camera.aspect = window.innerWidth / window.innerHeight\n      camera.updateProjectionMatrix()\n\n      renderer.setSize(window.innerWidth, window.innerHeight)\n    }\n\n    function animate() {\n      renderer.setAnimationLoop(render)\n    }\n\n    function render() {\n      const time = performance.now() * 0.0002\n      const torus = scene.getObjectByName('torus')\n      torus.rotation.x = time * 0.4\n      torus.rotation.y = time\n\n      renderer.render(scene, camera)\n      stats.update()\n\n      // Canvas elements doesn't trigger DOM updates, so we have to update the texture\n      statsMesh.material.map.update()\n    }\n\n    const onComponentUnmounted = () => {\n      renderer.setAnimationLoop(null)\n      window.removeEventListener('resize', onWindowResize)\n      window.removeEventListener('component-unmounted', onComponentUnmounted)\n      const vrButton = document.getElementById('VRButton')\n      if (vrButton) {\n        document.body.removeChild(vrButton)\n      }\n      const stats = document.getElementById('stats')\n      if (stats) {\n        document.body.removeChild(stats)\n      }\n    }\n\n    // TODO\n    window.addEventListener('component-unmounted', onComponentUnmounted)\n  },\n  // TODO\n  unmounted() {\n    window.dispatchEvent(new Event('component-unmounted'))\n  }\n}\n</script>\n\n<style lang=\"scss\">\n#vr-renderer-wrapper {\n  border: 5px #2c3e50 solid;\n  height: calc(100% - 256px);\n}\n</style>\n","import {\n\tDataTextureLoader,\n\tDataUtils,\n\tFloatType,\n\tHalfFloatType,\n\tLinearFilter,\n\tLinearSRGBColorSpace\n} from 'three';\n\n// https://github.com/mrdoob/three.js/issues/5552\n// http://en.wikipedia.org/wiki/RGBE_image_format\n\nclass RGBELoader extends DataTextureLoader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.type = HalfFloatType;\n\n\t}\n\n\t// adapted from http://www.graphics.cornell.edu/~bjw/rgbe.html\n\n\tparse( buffer ) {\n\n\t\tconst\n\t\t\t/* default error routine.  change this to change error handling */\n\t\t\trgbe_read_error = 1,\n\t\t\trgbe_write_error = 2,\n\t\t\trgbe_format_error = 3,\n\t\t\trgbe_memory_error = 4,\n\t\t\trgbe_error = function ( rgbe_error_code, msg ) {\n\n\t\t\t\tswitch ( rgbe_error_code ) {\n\n\t\t\t\t\tcase rgbe_read_error: throw new Error( 'THREE.RGBELoader: Read Error: ' + ( msg || '' ) );\n\t\t\t\t\tcase rgbe_write_error: throw new Error( 'THREE.RGBELoader: Write Error: ' + ( msg || '' ) );\n\t\t\t\t\tcase rgbe_format_error: throw new Error( 'THREE.RGBELoader: Bad File Format: ' + ( msg || '' ) );\n\t\t\t\t\tdefault:\n\t\t\t\t\tcase rgbe_memory_error: throw new Error( 'THREE.RGBELoader: Memory Error: ' + ( msg || '' ) );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\t/* offsets to red, green, and blue components in a data (float) pixel */\n\t\t\t//RGBE_DATA_RED = 0,\n\t\t\t//RGBE_DATA_GREEN = 1,\n\t\t\t//RGBE_DATA_BLUE = 2,\n\n\t\t\t/* number of floats per pixel, use 4 since stored in rgba image format */\n\t\t\t//RGBE_DATA_SIZE = 4,\n\n\t\t\t/* flags indicating which fields in an rgbe_header_info are valid */\n\t\t\tRGBE_VALID_PROGRAMTYPE = 1,\n\t\t\tRGBE_VALID_FORMAT = 2,\n\t\t\tRGBE_VALID_DIMENSIONS = 4,\n\n\t\t\tNEWLINE = '\\n',\n\n\t\t\tfgets = function ( buffer, lineLimit, consume ) {\n\n\t\t\t\tconst chunkSize = 128;\n\n\t\t\t\tlineLimit = ! lineLimit ? 1024 : lineLimit;\n\t\t\t\tlet p = buffer.pos,\n\t\t\t\t\ti = - 1, len = 0, s = '',\n\t\t\t\t\tchunk = String.fromCharCode.apply( null, new Uint16Array( buffer.subarray( p, p + chunkSize ) ) );\n\n\t\t\t\twhile ( ( 0 > ( i = chunk.indexOf( NEWLINE ) ) ) && ( len < lineLimit ) && ( p < buffer.byteLength ) ) {\n\n\t\t\t\t\ts += chunk; len += chunk.length;\n\t\t\t\t\tp += chunkSize;\n\t\t\t\t\tchunk += String.fromCharCode.apply( null, new Uint16Array( buffer.subarray( p, p + chunkSize ) ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( - 1 < i ) {\n\n\t\t\t\t\t/*for (i=l-1; i>=0; i--) {\n\t\t\t\t\t\tbyteCode = m.charCodeAt(i);\n\t\t\t\t\t\tif (byteCode > 0x7f && byteCode <= 0x7ff) byteLen++;\n\t\t\t\t\t\telse if (byteCode > 0x7ff && byteCode <= 0xffff) byteLen += 2;\n\t\t\t\t\t\tif (byteCode >= 0xDC00 && byteCode <= 0xDFFF) i--; //trail surrogate\n\t\t\t\t\t}*/\n\t\t\t\t\tif ( false !== consume ) buffer.pos += len + i + 1;\n\t\t\t\t\treturn s + chunk.slice( 0, i );\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t},\n\n\t\t\t/* minimal header reading.  modify if you want to parse more information */\n\t\t\tRGBE_ReadHeader = function ( buffer ) {\n\n\n\t\t\t\t// regexes to parse header info fields\n\t\t\t\tconst magic_token_re = /^#\\?(\\S+)/,\n\t\t\t\t\tgamma_re = /^\\s*GAMMA\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\n\t\t\t\t\texposure_re = /^\\s*EXPOSURE\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\n\t\t\t\t\tformat_re = /^\\s*FORMAT=(\\S+)\\s*$/,\n\t\t\t\t\tdimensions_re = /^\\s*\\-Y\\s+(\\d+)\\s+\\+X\\s+(\\d+)\\s*$/,\n\n\t\t\t\t\t// RGBE format header struct\n\t\t\t\t\theader = {\n\n\t\t\t\t\t\tvalid: 0, /* indicate which fields are valid */\n\n\t\t\t\t\t\tstring: '', /* the actual header string */\n\n\t\t\t\t\t\tcomments: '', /* comments found in header */\n\n\t\t\t\t\t\tprogramtype: 'RGBE', /* listed at beginning of file to identify it after \"#?\". defaults to \"RGBE\" */\n\n\t\t\t\t\t\tformat: '', /* RGBE format, default 32-bit_rle_rgbe */\n\n\t\t\t\t\t\tgamma: 1.0, /* image has already been gamma corrected with given gamma. defaults to 1.0 (no correction) */\n\n\t\t\t\t\t\texposure: 1.0, /* a value of 1.0 in an image corresponds to <exposure> watts/steradian/m^2. defaults to 1.0 */\n\n\t\t\t\t\t\twidth: 0, height: 0 /* image dimensions, width/height */\n\n\t\t\t\t\t};\n\n\t\t\t\tlet line, match;\n\n\t\t\t\tif ( buffer.pos >= buffer.byteLength || ! ( line = fgets( buffer ) ) ) {\n\n\t\t\t\t\trgbe_error( rgbe_read_error, 'no header found' );\n\n\t\t\t\t}\n\n\t\t\t\t/* if you want to require the magic token then uncomment the next line */\n\t\t\t\tif ( ! ( match = line.match( magic_token_re ) ) ) {\n\n\t\t\t\t\trgbe_error( rgbe_format_error, 'bad initial token' );\n\n\t\t\t\t}\n\n\t\t\t\theader.valid |= RGBE_VALID_PROGRAMTYPE;\n\t\t\t\theader.programtype = match[ 1 ];\n\t\t\t\theader.string += line + '\\n';\n\n\t\t\t\twhile ( true ) {\n\n\t\t\t\t\tline = fgets( buffer );\n\t\t\t\t\tif ( false === line ) break;\n\t\t\t\t\theader.string += line + '\\n';\n\n\t\t\t\t\tif ( '#' === line.charAt( 0 ) ) {\n\n\t\t\t\t\t\theader.comments += line + '\\n';\n\t\t\t\t\t\tcontinue; // comment line\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( match = line.match( gamma_re ) ) {\n\n\t\t\t\t\t\theader.gamma = parseFloat( match[ 1 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( match = line.match( exposure_re ) ) {\n\n\t\t\t\t\t\theader.exposure = parseFloat( match[ 1 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( match = line.match( format_re ) ) {\n\n\t\t\t\t\t\theader.valid |= RGBE_VALID_FORMAT;\n\t\t\t\t\t\theader.format = match[ 1 ];//'32-bit_rle_rgbe';\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( match = line.match( dimensions_re ) ) {\n\n\t\t\t\t\t\theader.valid |= RGBE_VALID_DIMENSIONS;\n\t\t\t\t\t\theader.height = parseInt( match[ 1 ], 10 );\n\t\t\t\t\t\theader.width = parseInt( match[ 2 ], 10 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ( header.valid & RGBE_VALID_FORMAT ) && ( header.valid & RGBE_VALID_DIMENSIONS ) ) break;\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! ( header.valid & RGBE_VALID_FORMAT ) ) {\n\n\t\t\t\t\trgbe_error( rgbe_format_error, 'missing format specifier' );\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! ( header.valid & RGBE_VALID_DIMENSIONS ) ) {\n\n\t\t\t\t\trgbe_error( rgbe_format_error, 'missing image size specifier' );\n\n\t\t\t\t}\n\n\t\t\t\treturn header;\n\n\t\t\t},\n\n\t\t\tRGBE_ReadPixels_RLE = function ( buffer, w, h ) {\n\n\t\t\t\tconst scanline_width = w;\n\n\t\t\t\tif (\n\t\t\t\t\t// run length encoding is not allowed so read flat\n\t\t\t\t\t( ( scanline_width < 8 ) || ( scanline_width > 0x7fff ) ) ||\n\t\t\t\t\t// this file is not run length encoded\n\t\t\t\t\t( ( 2 !== buffer[ 0 ] ) || ( 2 !== buffer[ 1 ] ) || ( buffer[ 2 ] & 0x80 ) )\n\t\t\t\t) {\n\n\t\t\t\t\t// return the flat buffer\n\t\t\t\t\treturn new Uint8Array( buffer );\n\n\t\t\t\t}\n\n\t\t\t\tif ( scanline_width !== ( ( buffer[ 2 ] << 8 ) | buffer[ 3 ] ) ) {\n\n\t\t\t\t\trgbe_error( rgbe_format_error, 'wrong scanline width' );\n\n\t\t\t\t}\n\n\t\t\t\tconst data_rgba = new Uint8Array( 4 * w * h );\n\n\t\t\t\tif ( ! data_rgba.length ) {\n\n\t\t\t\t\trgbe_error( rgbe_memory_error, 'unable to allocate buffer space' );\n\n\t\t\t\t}\n\n\t\t\t\tlet offset = 0, pos = 0;\n\n\t\t\t\tconst ptr_end = 4 * scanline_width;\n\t\t\t\tconst rgbeStart = new Uint8Array( 4 );\n\t\t\t\tconst scanline_buffer = new Uint8Array( ptr_end );\n\t\t\t\tlet num_scanlines = h;\n\n\t\t\t\t// read in each successive scanline\n\t\t\t\twhile ( ( num_scanlines > 0 ) && ( pos < buffer.byteLength ) ) {\n\n\t\t\t\t\tif ( pos + 4 > buffer.byteLength ) {\n\n\t\t\t\t\t\trgbe_error( rgbe_read_error );\n\n\t\t\t\t\t}\n\n\t\t\t\t\trgbeStart[ 0 ] = buffer[ pos ++ ];\n\t\t\t\t\trgbeStart[ 1 ] = buffer[ pos ++ ];\n\t\t\t\t\trgbeStart[ 2 ] = buffer[ pos ++ ];\n\t\t\t\t\trgbeStart[ 3 ] = buffer[ pos ++ ];\n\n\t\t\t\t\tif ( ( 2 != rgbeStart[ 0 ] ) || ( 2 != rgbeStart[ 1 ] ) || ( ( ( rgbeStart[ 2 ] << 8 ) | rgbeStart[ 3 ] ) != scanline_width ) ) {\n\n\t\t\t\t\t\trgbe_error( rgbe_format_error, 'bad rgbe scanline format' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// read each of the four channels for the scanline into the buffer\n\t\t\t\t\t// first red, then green, then blue, then exponent\n\t\t\t\t\tlet ptr = 0, count;\n\n\t\t\t\t\twhile ( ( ptr < ptr_end ) && ( pos < buffer.byteLength ) ) {\n\n\t\t\t\t\t\tcount = buffer[ pos ++ ];\n\t\t\t\t\t\tconst isEncodedRun = count > 128;\n\t\t\t\t\t\tif ( isEncodedRun ) count -= 128;\n\n\t\t\t\t\t\tif ( ( 0 === count ) || ( ptr + count > ptr_end ) ) {\n\n\t\t\t\t\t\t\trgbe_error( rgbe_format_error, 'bad scanline data' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( isEncodedRun ) {\n\n\t\t\t\t\t\t\t// a (encoded) run of the same value\n\t\t\t\t\t\t\tconst byteValue = buffer[ pos ++ ];\n\t\t\t\t\t\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\t\t\t\t\t\tscanline_buffer[ ptr ++ ] = byteValue;\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//ptr += count;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// a literal-run\n\t\t\t\t\t\t\tscanline_buffer.set( buffer.subarray( pos, pos + count ), ptr );\n\t\t\t\t\t\t\tptr += count; pos += count;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\t// now convert data from buffer into rgba\n\t\t\t\t\t// first red, then green, then blue, then exponent (alpha)\n\t\t\t\t\tconst l = scanline_width; //scanline_buffer.byteLength;\n\t\t\t\t\tfor ( let i = 0; i < l; i ++ ) {\n\n\t\t\t\t\t\tlet off = 0;\n\t\t\t\t\t\tdata_rgba[ offset ] = scanline_buffer[ i + off ];\n\t\t\t\t\t\toff += scanline_width; //1;\n\t\t\t\t\t\tdata_rgba[ offset + 1 ] = scanline_buffer[ i + off ];\n\t\t\t\t\t\toff += scanline_width; //1;\n\t\t\t\t\t\tdata_rgba[ offset + 2 ] = scanline_buffer[ i + off ];\n\t\t\t\t\t\toff += scanline_width; //1;\n\t\t\t\t\t\tdata_rgba[ offset + 3 ] = scanline_buffer[ i + off ];\n\t\t\t\t\t\toffset += 4;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tnum_scanlines --;\n\n\t\t\t\t}\n\n\t\t\t\treturn data_rgba;\n\n\t\t\t};\n\n\t\tconst RGBEByteToRGBFloat = function ( sourceArray, sourceOffset, destArray, destOffset ) {\n\n\t\t\tconst e = sourceArray[ sourceOffset + 3 ];\n\t\t\tconst scale = Math.pow( 2.0, e - 128.0 ) / 255.0;\n\n\t\t\tdestArray[ destOffset + 0 ] = sourceArray[ sourceOffset + 0 ] * scale;\n\t\t\tdestArray[ destOffset + 1 ] = sourceArray[ sourceOffset + 1 ] * scale;\n\t\t\tdestArray[ destOffset + 2 ] = sourceArray[ sourceOffset + 2 ] * scale;\n\t\t\tdestArray[ destOffset + 3 ] = 1;\n\n\t\t};\n\n\t\tconst RGBEByteToRGBHalf = function ( sourceArray, sourceOffset, destArray, destOffset ) {\n\n\t\t\tconst e = sourceArray[ sourceOffset + 3 ];\n\t\t\tconst scale = Math.pow( 2.0, e - 128.0 ) / 255.0;\n\n\t\t\t// clamping to 65504, the maximum representable value in float16\n\t\t\tdestArray[ destOffset + 0 ] = DataUtils.toHalfFloat( Math.min( sourceArray[ sourceOffset + 0 ] * scale, 65504 ) );\n\t\t\tdestArray[ destOffset + 1 ] = DataUtils.toHalfFloat( Math.min( sourceArray[ sourceOffset + 1 ] * scale, 65504 ) );\n\t\t\tdestArray[ destOffset + 2 ] = DataUtils.toHalfFloat( Math.min( sourceArray[ sourceOffset + 2 ] * scale, 65504 ) );\n\t\t\tdestArray[ destOffset + 3 ] = DataUtils.toHalfFloat( 1 );\n\n\t\t};\n\n\t\tconst byteArray = new Uint8Array( buffer );\n\t\tbyteArray.pos = 0;\n\t\tconst rgbe_header_info = RGBE_ReadHeader( byteArray );\n\n\t\tconst w = rgbe_header_info.width,\n\t\t\th = rgbe_header_info.height,\n\t\t\timage_rgba_data = RGBE_ReadPixels_RLE( byteArray.subarray( byteArray.pos ), w, h );\n\n\n\t\tlet data, type;\n\t\tlet numElements;\n\n\t\tswitch ( this.type ) {\n\n\t\t\tcase FloatType:\n\n\t\t\t\tnumElements = image_rgba_data.length / 4;\n\t\t\t\tconst floatArray = new Float32Array( numElements * 4 );\n\n\t\t\t\tfor ( let j = 0; j < numElements; j ++ ) {\n\n\t\t\t\t\tRGBEByteToRGBFloat( image_rgba_data, j * 4, floatArray, j * 4 );\n\n\t\t\t\t}\n\n\t\t\t\tdata = floatArray;\n\t\t\t\ttype = FloatType;\n\t\t\t\tbreak;\n\n\t\t\tcase HalfFloatType:\n\n\t\t\t\tnumElements = image_rgba_data.length / 4;\n\t\t\t\tconst halfArray = new Uint16Array( numElements * 4 );\n\n\t\t\t\tfor ( let j = 0; j < numElements; j ++ ) {\n\n\t\t\t\t\tRGBEByteToRGBHalf( image_rgba_data, j * 4, halfArray, j * 4 );\n\n\t\t\t\t}\n\n\t\t\t\tdata = halfArray;\n\t\t\t\ttype = HalfFloatType;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tthrow new Error( 'THREE.RGBELoader: Unsupported type: ' + this.type );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\treturn {\n\t\t\twidth: w, height: h,\n\t\t\tdata: data,\n\t\t\theader: rgbe_header_info.string,\n\t\t\tgamma: rgbe_header_info.gamma,\n\t\t\texposure: rgbe_header_info.exposure,\n\t\t\ttype: type\n\t\t};\n\n\t}\n\n\tsetDataType( value ) {\n\n\t\tthis.type = value;\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tfunction onLoadCallback( texture, texData ) {\n\n\t\t\tswitch ( texture.type ) {\n\n\t\t\t\tcase FloatType:\n\t\t\t\tcase HalfFloatType:\n\n\t\t\t\t\ttexture.colorSpace = LinearSRGBColorSpace;\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\t\t\t\t\ttexture.magFilter = LinearFilter;\n\t\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\t\ttexture.flipY = true;\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}\n\n\t\treturn super.load( url, onLoadCallback, onProgress, onError );\n\n\t}\n\n}\n\nexport { RGBELoader };\n","import {\n\tColor,\n\tMatrix4,\n\tMesh,\n\tPerspectiveCamera,\n\tPlane,\n\tShaderMaterial,\n\tUniformsUtils,\n\tVector3,\n\tVector4,\n\tWebGLRenderTarget,\n\tHalfFloatType\n} from 'three';\n\nclass Reflector extends Mesh {\n\n\tconstructor( geometry, options = {} ) {\n\n\t\tsuper( geometry );\n\n\t\tthis.isReflector = true;\n\n\t\tthis.type = 'Reflector';\n\t\tthis.camera = new PerspectiveCamera();\n\n\t\tconst scope = this;\n\n\t\tconst color = ( options.color !== undefined ) ? new Color( options.color ) : new Color( 0x7F7F7F );\n\t\tconst textureWidth = options.textureWidth || 512;\n\t\tconst textureHeight = options.textureHeight || 512;\n\t\tconst clipBias = options.clipBias || 0;\n\t\tconst shader = options.shader || Reflector.ReflectorShader;\n\t\tconst multisample = ( options.multisample !== undefined ) ? options.multisample : 4;\n\n\t\t//\n\n\t\tconst reflectorPlane = new Plane();\n\t\tconst normal = new Vector3();\n\t\tconst reflectorWorldPosition = new Vector3();\n\t\tconst cameraWorldPosition = new Vector3();\n\t\tconst rotationMatrix = new Matrix4();\n\t\tconst lookAtPosition = new Vector3( 0, 0, - 1 );\n\t\tconst clipPlane = new Vector4();\n\n\t\tconst view = new Vector3();\n\t\tconst target = new Vector3();\n\t\tconst q = new Vector4();\n\n\t\tconst textureMatrix = new Matrix4();\n\t\tconst virtualCamera = this.camera;\n\n\t\tconst renderTarget = new WebGLRenderTarget( textureWidth, textureHeight, { samples: multisample, type: HalfFloatType } );\n\n\t\tconst material = new ShaderMaterial( {\n\t\t\tname: ( shader.name !== undefined ) ? shader.name : 'unspecified',\n\t\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tvertexShader: shader.vertexShader\n\t\t} );\n\n\t\tmaterial.uniforms[ 'tDiffuse' ].value = renderTarget.texture;\n\t\tmaterial.uniforms[ 'color' ].value = color;\n\t\tmaterial.uniforms[ 'textureMatrix' ].value = textureMatrix;\n\n\t\tthis.material = material;\n\n\t\tthis.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\treflectorWorldPosition.setFromMatrixPosition( scope.matrixWorld );\n\t\t\tcameraWorldPosition.setFromMatrixPosition( camera.matrixWorld );\n\n\t\t\trotationMatrix.extractRotation( scope.matrixWorld );\n\n\t\t\tnormal.set( 0, 0, 1 );\n\t\t\tnormal.applyMatrix4( rotationMatrix );\n\n\t\t\tview.subVectors( reflectorWorldPosition, cameraWorldPosition );\n\n\t\t\t// Avoid rendering when reflector is facing away\n\n\t\t\tif ( view.dot( normal ) > 0 ) return;\n\n\t\t\tview.reflect( normal ).negate();\n\t\t\tview.add( reflectorWorldPosition );\n\n\t\t\trotationMatrix.extractRotation( camera.matrixWorld );\n\n\t\t\tlookAtPosition.set( 0, 0, - 1 );\n\t\t\tlookAtPosition.applyMatrix4( rotationMatrix );\n\t\t\tlookAtPosition.add( cameraWorldPosition );\n\n\t\t\ttarget.subVectors( reflectorWorldPosition, lookAtPosition );\n\t\t\ttarget.reflect( normal ).negate();\n\t\t\ttarget.add( reflectorWorldPosition );\n\n\t\t\tvirtualCamera.position.copy( view );\n\t\t\tvirtualCamera.up.set( 0, 1, 0 );\n\t\t\tvirtualCamera.up.applyMatrix4( rotationMatrix );\n\t\t\tvirtualCamera.up.reflect( normal );\n\t\t\tvirtualCamera.lookAt( target );\n\n\t\t\tvirtualCamera.far = camera.far; // Used in WebGLBackground\n\n\t\t\tvirtualCamera.updateMatrixWorld();\n\t\t\tvirtualCamera.projectionMatrix.copy( camera.projectionMatrix );\n\n\t\t\t// Update the texture matrix\n\t\t\ttextureMatrix.set(\n\t\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t\t);\n\t\t\ttextureMatrix.multiply( virtualCamera.projectionMatrix );\n\t\t\ttextureMatrix.multiply( virtualCamera.matrixWorldInverse );\n\t\t\ttextureMatrix.multiply( scope.matrixWorld );\n\n\t\t\t// Now update projection matrix with new clip plane, implementing code from: http://www.terathon.com/code/oblique.html\n\t\t\t// Paper explaining this technique: http://www.terathon.com/lengyel/Lengyel-Oblique.pdf\n\t\t\treflectorPlane.setFromNormalAndCoplanarPoint( normal, reflectorWorldPosition );\n\t\t\treflectorPlane.applyMatrix4( virtualCamera.matrixWorldInverse );\n\n\t\t\tclipPlane.set( reflectorPlane.normal.x, reflectorPlane.normal.y, reflectorPlane.normal.z, reflectorPlane.constant );\n\n\t\t\tconst projectionMatrix = virtualCamera.projectionMatrix;\n\n\t\t\tq.x = ( Math.sign( clipPlane.x ) + projectionMatrix.elements[ 8 ] ) / projectionMatrix.elements[ 0 ];\n\t\t\tq.y = ( Math.sign( clipPlane.y ) + projectionMatrix.elements[ 9 ] ) / projectionMatrix.elements[ 5 ];\n\t\t\tq.z = - 1.0;\n\t\t\tq.w = ( 1.0 + projectionMatrix.elements[ 10 ] ) / projectionMatrix.elements[ 14 ];\n\n\t\t\t// Calculate the scaled plane vector\n\t\t\tclipPlane.multiplyScalar( 2.0 / clipPlane.dot( q ) );\n\n\t\t\t// Replacing the third row of the projection matrix\n\t\t\tprojectionMatrix.elements[ 2 ] = clipPlane.x;\n\t\t\tprojectionMatrix.elements[ 6 ] = clipPlane.y;\n\t\t\tprojectionMatrix.elements[ 10 ] = clipPlane.z + 1.0 - clipBias;\n\t\t\tprojectionMatrix.elements[ 14 ] = clipPlane.w;\n\n\t\t\t// Render\n\t\t\tscope.visible = false;\n\n\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\tconst currentXrEnabled = renderer.xr.enabled;\n\t\t\tconst currentShadowAutoUpdate = renderer.shadowMap.autoUpdate;\n\n\t\t\trenderer.xr.enabled = false; // Avoid camera modification\n\t\t\trenderer.shadowMap.autoUpdate = false; // Avoid re-computing shadows\n\n\t\t\trenderer.setRenderTarget( renderTarget );\n\n\t\t\trenderer.state.buffers.depth.setMask( true ); // make sure the depth buffer is writable so it can be properly cleared, see #18897\n\n\t\t\tif ( renderer.autoClear === false ) renderer.clear();\n\t\t\trenderer.render( scene, virtualCamera );\n\n\t\t\trenderer.xr.enabled = currentXrEnabled;\n\t\t\trenderer.shadowMap.autoUpdate = currentShadowAutoUpdate;\n\n\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\t\t// Restore viewport\n\n\t\t\tconst viewport = camera.viewport;\n\n\t\t\tif ( viewport !== undefined ) {\n\n\t\t\t\trenderer.state.viewport( viewport );\n\n\t\t\t}\n\n\t\t\tscope.visible = true;\n\n\t\t};\n\n\t\tthis.getRenderTarget = function () {\n\n\t\t\treturn renderTarget;\n\n\t\t};\n\n\t\tthis.dispose = function () {\n\n\t\t\trenderTarget.dispose();\n\t\t\tscope.material.dispose();\n\n\t\t};\n\n\t}\n\n}\n\nReflector.ReflectorShader = {\n\n\tname: 'ReflectorShader',\n\n\tuniforms: {\n\n\t\t'color': {\n\t\t\tvalue: null\n\t\t},\n\n\t\t'tDiffuse': {\n\t\t\tvalue: null\n\t\t},\n\n\t\t'textureMatrix': {\n\t\t\tvalue: null\n\t\t}\n\n\t},\n\n\tvertexShader: /* glsl */`\n\t\tuniform mat4 textureMatrix;\n\t\tvarying vec4 vUv;\n\n\t\t#include <common>\n\t\t#include <logdepthbuf_pars_vertex>\n\n\t\tvoid main() {\n\n\t\t\tvUv = textureMatrix * vec4( position, 1.0 );\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t\t#include <logdepthbuf_vertex>\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\t\tuniform vec3 color;\n\t\tuniform sampler2D tDiffuse;\n\t\tvarying vec4 vUv;\n\n\t\t#include <logdepthbuf_pars_fragment>\n\n\t\tfloat blendOverlay( float base, float blend ) {\n\n\t\t\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n\n\t\t}\n\n\t\tvec3 blendOverlay( vec3 base, vec3 blend ) {\n\n\t\t\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#include <logdepthbuf_fragment>\n\n\t\t\tvec4 base = texture2DProj( tDiffuse, vUv );\n\t\t\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <colorspace_fragment>\n\n\t\t}`\n};\n\nexport { Reflector };\n","import {\n\tCanvasTexture,\n\tLinearFilter,\n\tMesh,\n\tMeshBasicMaterial,\n\tPlaneGeometry,\n\tSRGBColorSpace,\n\tColor\n} from 'three';\n\nclass HTMLMesh extends Mesh {\n\n\tconstructor( dom ) {\n\n\t\tconst texture = new HTMLTexture( dom );\n\n\t\tconst geometry = new PlaneGeometry( texture.image.width * 0.001, texture.image.height * 0.001 );\n\t\tconst material = new MeshBasicMaterial( { map: texture, toneMapped: false, transparent: true } );\n\n\t\tsuper( geometry, material );\n\n\t\tfunction onEvent( event ) {\n\n\t\t\tmaterial.map.dispatchDOMEvent( event );\n\n\t\t}\n\n\t\tthis.addEventListener( 'mousedown', onEvent );\n\t\tthis.addEventListener( 'mousemove', onEvent );\n\t\tthis.addEventListener( 'mouseup', onEvent );\n\t\tthis.addEventListener( 'click', onEvent );\n\n\t\tthis.dispose = function () {\n\n\t\t\tgeometry.dispose();\n\t\t\tmaterial.dispose();\n\n\t\t\tmaterial.map.dispose();\n\n\t\t\tcanvases.delete( dom );\n\n\t\t\tthis.removeEventListener( 'mousedown', onEvent );\n\t\t\tthis.removeEventListener( 'mousemove', onEvent );\n\t\t\tthis.removeEventListener( 'mouseup', onEvent );\n\t\t\tthis.removeEventListener( 'click', onEvent );\n\n\t\t};\n\n\t}\n\n}\n\nclass HTMLTexture extends CanvasTexture {\n\n\tconstructor( dom ) {\n\n\t\tsuper( html2canvas( dom ) );\n\n\t\tthis.dom = dom;\n\n\t\tthis.anisotropy = 16;\n\t\tthis.colorSpace = SRGBColorSpace;\n\t\tthis.minFilter = LinearFilter;\n\t\tthis.magFilter = LinearFilter;\n\n\t\t// Create an observer on the DOM, and run html2canvas update in the next loop\n\t\tconst observer = new MutationObserver( () => {\n\n\t\t\tif ( ! this.scheduleUpdate ) {\n\n\t\t\t\t// ideally should use xr.requestAnimationFrame, here setTimeout to avoid passing the renderer\n\t\t\t\tthis.scheduleUpdate = setTimeout( () => this.update(), 16 );\n\n\t\t\t}\n\n\t\t} );\n\n\t\tconst config = { attributes: true, childList: true, subtree: true, characterData: true };\n\t\tobserver.observe( dom, config );\n\n\t\tthis.observer = observer;\n\n\t}\n\n\tdispatchDOMEvent( event ) {\n\n\t\tif ( event.data ) {\n\n\t\t\thtmlevent( this.dom, event.type, event.data.x, event.data.y );\n\n\t\t}\n\n\t}\n\n\tupdate() {\n\n\t\tthis.image = html2canvas( this.dom );\n\t\tthis.needsUpdate = true;\n\n\t\tthis.scheduleUpdate = null;\n\n\t}\n\n\tdispose() {\n\n\t\tif ( this.observer ) {\n\n\t\t\tthis.observer.disconnect();\n\n\t\t}\n\n\t\tthis.scheduleUpdate = clearTimeout( this.scheduleUpdate );\n\n\t\tsuper.dispose();\n\n\t}\n\n}\n\n\n//\n\nconst canvases = new WeakMap();\n\nfunction html2canvas( element ) {\n\n\tconst range = document.createRange();\n\tconst color = new Color();\n\n\tfunction Clipper( context ) {\n\n\t\tconst clips = [];\n\t\tlet isClipping = false;\n\n\t\tfunction doClip() {\n\n\t\t\tif ( isClipping ) {\n\n\t\t\t\tisClipping = false;\n\t\t\t\tcontext.restore();\n\n\t\t\t}\n\n\t\t\tif ( clips.length === 0 ) return;\n\n\t\t\tlet minX = - Infinity, minY = - Infinity;\n\t\t\tlet maxX = Infinity, maxY = Infinity;\n\n\t\t\tfor ( let i = 0; i < clips.length; i ++ ) {\n\n\t\t\t\tconst clip = clips[ i ];\n\n\t\t\t\tminX = Math.max( minX, clip.x );\n\t\t\t\tminY = Math.max( minY, clip.y );\n\t\t\t\tmaxX = Math.min( maxX, clip.x + clip.width );\n\t\t\t\tmaxY = Math.min( maxY, clip.y + clip.height );\n\n\t\t\t}\n\n\t\t\tcontext.save();\n\t\t\tcontext.beginPath();\n\t\t\tcontext.rect( minX, minY, maxX - minX, maxY - minY );\n\t\t\tcontext.clip();\n\n\t\t\tisClipping = true;\n\n\t\t}\n\n\t\treturn {\n\n\t\t\tadd: function ( clip ) {\n\n\t\t\t\tclips.push( clip );\n\t\t\t\tdoClip();\n\n\t\t\t},\n\n\t\t\tremove: function () {\n\n\t\t\t\tclips.pop();\n\t\t\t\tdoClip();\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction drawText( style, x, y, string ) {\n\n\t\tif ( string !== '' ) {\n\n\t\t\tif ( style.textTransform === 'uppercase' ) {\n\n\t\t\t\tstring = string.toUpperCase();\n\n\t\t\t}\n\n\t\t\tcontext.font = style.fontWeight + ' ' + style.fontSize + ' ' + style.fontFamily;\n\t\t\tcontext.textBaseline = 'top';\n\t\t\tcontext.fillStyle = style.color;\n\t\t\tcontext.fillText( string, x, y + parseFloat( style.fontSize ) * 0.1 );\n\n\t\t}\n\n\t}\n\n\tfunction buildRectPath( x, y, w, h, r ) {\n\n\t\tif ( w < 2 * r ) r = w / 2;\n\t\tif ( h < 2 * r ) r = h / 2;\n\n\t\tcontext.beginPath();\n\t\tcontext.moveTo( x + r, y );\n\t\tcontext.arcTo( x + w, y, x + w, y + h, r );\n\t\tcontext.arcTo( x + w, y + h, x, y + h, r );\n\t\tcontext.arcTo( x, y + h, x, y, r );\n\t\tcontext.arcTo( x, y, x + w, y, r );\n\t\tcontext.closePath();\n\n\t}\n\n\tfunction drawBorder( style, which, x, y, width, height ) {\n\n\t\tconst borderWidth = style[ which + 'Width' ];\n\t\tconst borderStyle = style[ which + 'Style' ];\n\t\tconst borderColor = style[ which + 'Color' ];\n\n\t\tif ( borderWidth !== '0px' && borderStyle !== 'none' && borderColor !== 'transparent' && borderColor !== 'rgba(0, 0, 0, 0)' ) {\n\n\t\t\tcontext.strokeStyle = borderColor;\n\t\t\tcontext.lineWidth = parseFloat( borderWidth );\n\t\t\tcontext.beginPath();\n\t\t\tcontext.moveTo( x, y );\n\t\t\tcontext.lineTo( x + width, y + height );\n\t\t\tcontext.stroke();\n\n\t\t}\n\n\t}\n\n\tfunction drawElement( element, style ) {\n\n\t\tlet x = 0, y = 0, width = 0, height = 0;\n\n\t\tif ( element.nodeType === Node.TEXT_NODE ) {\n\n\t\t\t// text\n\n\t\t\trange.selectNode( element );\n\n\t\t\tconst rect = range.getBoundingClientRect();\n\n\t\t\tx = rect.left - offset.left - 0.5;\n\t\t\ty = rect.top - offset.top - 0.5;\n\t\t\twidth = rect.width;\n\t\t\theight = rect.height;\n\n\t\t\tdrawText( style, x, y, element.nodeValue.trim() );\n\n\t\t} else if ( element.nodeType === Node.COMMENT_NODE ) {\n\n\t\t\treturn;\n\n\t\t} else if ( element instanceof HTMLCanvasElement ) {\n\n\t\t\t// Canvas element\n\t\t\tif ( element.style.display === 'none' ) return;\n\n\t\t\tconst rect = element.getBoundingClientRect();\n\n\t\t\tx = rect.left - offset.left - 0.5;\n\t\t\ty = rect.top - offset.top - 0.5;\n\n\t\t        context.save();\n\t\t\tconst dpr = window.devicePixelRatio;\n\t\t\tcontext.scale( 1 / dpr, 1 / dpr );\n\t\t\tcontext.drawImage( element, x, y );\n\t\t\tcontext.restore();\n\n\t\t} else if ( element instanceof HTMLImageElement ) {\n\n\t\t\tif ( element.style.display === 'none' ) return;\n\n\t\t\tconst rect = element.getBoundingClientRect();\n\n\t\t\tx = rect.left - offset.left - 0.5;\n\t\t\ty = rect.top - offset.top - 0.5;\n\t\t\twidth = rect.width;\n\t\t\theight = rect.height;\n\n\t\t\tcontext.drawImage( element, x, y, width, height );\n\n\t\t} else {\n\n\t\t\tif ( element.style.display === 'none' ) return;\n\n\t\t\tconst rect = element.getBoundingClientRect();\n\n\t\t\tx = rect.left - offset.left - 0.5;\n\t\t\ty = rect.top - offset.top - 0.5;\n\t\t\twidth = rect.width;\n\t\t\theight = rect.height;\n\n\t\t\tstyle = window.getComputedStyle( element );\n\n\t\t\t// Get the border of the element used for fill and border\n\n\t\t\tbuildRectPath( x, y, width, height, parseFloat( style.borderRadius ) );\n\n\t\t\tconst backgroundColor = style.backgroundColor;\n\n\t\t\tif ( backgroundColor !== 'transparent' && backgroundColor !== 'rgba(0, 0, 0, 0)' ) {\n\n\t\t\t\tcontext.fillStyle = backgroundColor;\n\t\t\t\tcontext.fill();\n\n\t\t\t}\n\n\t\t\t// If all the borders match then stroke the round rectangle\n\n\t\t\tconst borders = [ 'borderTop', 'borderLeft', 'borderBottom', 'borderRight' ];\n\n\t\t\tlet match = true;\n\t\t\tlet prevBorder = null;\n\n\t\t\tfor ( const border of borders ) {\n\n\t\t\t\tif ( prevBorder !== null ) {\n\n\t\t\t\t\tmatch = ( style[ border + 'Width' ] === style[ prevBorder + 'Width' ] ) &&\n\t\t\t\t\t( style[ border + 'Color' ] === style[ prevBorder + 'Color' ] ) &&\n\t\t\t\t\t( style[ border + 'Style' ] === style[ prevBorder + 'Style' ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( match === false ) break;\n\n\t\t\t\tprevBorder = border;\n\n\t\t\t}\n\n\t\t\tif ( match === true ) {\n\n\t\t\t\t// They all match so stroke the rectangle from before allows for border-radius\n\n\t\t\t\tconst width = parseFloat( style.borderTopWidth );\n\n\t\t\t\tif ( style.borderTopWidth !== '0px' && style.borderTopStyle !== 'none' && style.borderTopColor !== 'transparent' && style.borderTopColor !== 'rgba(0, 0, 0, 0)' ) {\n\n\t\t\t\t\tcontext.strokeStyle = style.borderTopColor;\n\t\t\t\t\tcontext.lineWidth = width;\n\t\t\t\t\tcontext.stroke();\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Otherwise draw individual borders\n\n\t\t\t\tdrawBorder( style, 'borderTop', x, y, width, 0 );\n\t\t\t\tdrawBorder( style, 'borderLeft', x, y, 0, height );\n\t\t\t\tdrawBorder( style, 'borderBottom', x, y + height, width, 0 );\n\t\t\t\tdrawBorder( style, 'borderRight', x + width, y, 0, height );\n\n\t\t\t}\n\n\t\t\tif ( element instanceof HTMLInputElement ) {\n\n\t\t\t\tlet accentColor = style.accentColor;\n\n\t\t\t\tif ( accentColor === undefined || accentColor === 'auto' ) accentColor = style.color;\n\n\t\t\t\tcolor.set( accentColor );\n\n\t\t\t\tconst luminance = Math.sqrt( 0.299 * ( color.r ** 2 ) + 0.587 * ( color.g ** 2 ) + 0.114 * ( color.b ** 2 ) );\n\t\t\t\tconst accentTextColor = luminance < 0.5 ? 'white' : '#111111';\n\n\t\t\t\tif ( element.type === 'radio' ) {\n\n\t\t\t\t\tbuildRectPath( x, y, width, height, height );\n\n\t\t\t\t\tcontext.fillStyle = 'white';\n\t\t\t\t\tcontext.strokeStyle = accentColor;\n\t\t\t\t\tcontext.lineWidth = 1;\n\t\t\t\t\tcontext.fill();\n\t\t\t\t\tcontext.stroke();\n\n\t\t\t\t\tif ( element.checked ) {\n\n\t\t\t\t\t\tbuildRectPath( x + 2, y + 2, width - 4, height - 4, height );\n\n\t\t\t\t\t\tcontext.fillStyle = accentColor;\n\t\t\t\t\t\tcontext.strokeStyle = accentTextColor;\n\t\t\t\t\t\tcontext.lineWidth = 2;\n\t\t\t\t\t\tcontext.fill();\n\t\t\t\t\t\tcontext.stroke();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( element.type === 'checkbox' ) {\n\n\t\t\t\t\tbuildRectPath( x, y, width, height, 2 );\n\n\t\t\t\t\tcontext.fillStyle = element.checked ? accentColor : 'white';\n\t\t\t\t\tcontext.strokeStyle = element.checked ? accentTextColor : accentColor;\n\t\t\t\t\tcontext.lineWidth = 1;\n\t\t\t\t\tcontext.stroke();\n\t\t\t\t\tcontext.fill();\n\n\t\t\t\t\tif ( element.checked ) {\n\n\t\t\t\t\t\tconst currentTextAlign = context.textAlign;\n\n\t\t\t\t\t\tcontext.textAlign = 'center';\n\n\t\t\t\t\t\tconst properties = {\n\t\t\t\t\t\t\tcolor: accentTextColor,\n\t\t\t\t\t\t\tfontFamily: style.fontFamily,\n\t\t\t\t\t\t\tfontSize: height + 'px',\n\t\t\t\t\t\t\tfontWeight: 'bold'\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tdrawText( properties, x + ( width / 2 ), y, '' );\n\n\t\t\t\t\t\tcontext.textAlign = currentTextAlign;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( element.type === 'range' ) {\n\n\t\t\t\t\tconst [ min, max, value ] = [ 'min', 'max', 'value' ].map( property => parseFloat( element[ property ] ) );\n\t\t\t\t\tconst position = ( ( value - min ) / ( max - min ) ) * ( width - height );\n\n\t\t\t\t\tbuildRectPath( x, y + ( height / 4 ), width, height / 2, height / 4 );\n\t\t\t\t\tcontext.fillStyle = accentTextColor;\n\t\t\t\t\tcontext.strokeStyle = accentColor;\n\t\t\t\t\tcontext.lineWidth = 1;\n\t\t\t\t\tcontext.fill();\n\t\t\t\t\tcontext.stroke();\n\n\t\t\t\t\tbuildRectPath( x, y + ( height / 4 ), position + ( height / 2 ), height / 2, height / 4 );\n\t\t\t\t\tcontext.fillStyle = accentColor;\n\t\t\t\t\tcontext.fill();\n\n\t\t\t\t\tbuildRectPath( x + position, y, height, height, height / 2 );\n\t\t\t\t\tcontext.fillStyle = accentColor;\n\t\t\t\t\tcontext.fill();\n\n\t\t\t\t}\n\n\t\t\t\tif ( element.type === 'color' || element.type === 'text' || element.type === 'number' ) {\n\n\t\t\t\t\tclipper.add( { x: x, y: y, width: width, height: height } );\n\n\t\t\t\t\tdrawText( style, x + parseInt( style.paddingLeft ), y + parseInt( style.paddingTop ), element.value );\n\n\t\t\t\t\tclipper.remove();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t/*\n\t\t// debug\n\t\tcontext.strokeStyle = '#' + Math.random().toString( 16 ).slice( - 3 );\n\t\tcontext.strokeRect( x - 0.5, y - 0.5, width + 1, height + 1 );\n\t\t*/\n\n\t\tconst isClipping = style.overflow === 'auto' || style.overflow === 'hidden';\n\n\t\tif ( isClipping ) clipper.add( { x: x, y: y, width: width, height: height } );\n\n\t\tfor ( let i = 0; i < element.childNodes.length; i ++ ) {\n\n\t\t\tdrawElement( element.childNodes[ i ], style );\n\n\t\t}\n\n\t\tif ( isClipping ) clipper.remove();\n\n\t}\n\n\tconst offset = element.getBoundingClientRect();\n\n\tlet canvas = canvases.get( element );\n\n\tif ( canvas === undefined ) {\n\n\t\tcanvas = document.createElement( 'canvas' );\n\t\tcanvas.width = offset.width;\n\t\tcanvas.height = offset.height;\n\t\tcanvases.set( element, canvas );\n\n\t}\n\n\tconst context = canvas.getContext( '2d'/*, { alpha: false }*/ );\n\n\tconst clipper = new Clipper( context );\n\n\t// console.time( 'drawElement' );\n\n\tcontext.clearRect( 0, 0, canvas.width, canvas.height );\n\n\tdrawElement( element );\n\n\t// console.timeEnd( 'drawElement' );\n\n\treturn canvas;\n\n}\n\nfunction htmlevent( element, event, x, y ) {\n\n\tconst mouseEventInit = {\n\t\tclientX: ( x * element.offsetWidth ) + element.offsetLeft,\n\t\tclientY: ( y * element.offsetHeight ) + element.offsetTop,\n\t\tview: element.ownerDocument.defaultView\n\t};\n\n\twindow.dispatchEvent( new MouseEvent( event, mouseEventInit ) );\n\n\tconst rect = element.getBoundingClientRect();\n\n\tx = x * rect.width + rect.left;\n\ty = y * rect.height + rect.top;\n\n\tfunction traverse( element ) {\n\n\t\tif ( element.nodeType !== Node.TEXT_NODE && element.nodeType !== Node.COMMENT_NODE ) {\n\n\t\t\tconst rect = element.getBoundingClientRect();\n\n\t\t\tif ( x > rect.left && x < rect.right && y > rect.top && y < rect.bottom ) {\n\n\t\t\t\telement.dispatchEvent( new MouseEvent( event, mouseEventInit ) );\n\n\t\t\t\tif ( element instanceof HTMLInputElement && element.type === 'range' && ( event === 'mousedown' || event === 'click' ) ) {\n\n\t\t\t\t\tconst [ min, max ] = [ 'min', 'max' ].map( property => parseFloat( element[ property ] ) );\n\n\t\t\t\t\tconst width = rect.width;\n\t\t\t\t\tconst offsetX = x - rect.x;\n\t\t\t\t\tconst proportion = offsetX / width;\n\t\t\t\t\telement.value = min + ( max - min ) * proportion;\n\t\t\t\t\telement.dispatchEvent( new InputEvent( 'input', { bubbles: true } ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0; i < element.childNodes.length; i ++ ) {\n\n\t\t\t\ttraverse( element.childNodes[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttraverse( element );\n\n}\n\nexport { HTMLMesh };\n","import {\n\tGroup,\n\tMatrix4,\n\tRaycaster,\n\tVector2\n} from 'three';\n\nconst _pointer = new Vector2();\nconst _event = { type: '', data: _pointer };\n\nclass InteractiveGroup extends Group {\n\n\tconstructor( renderer, camera ) {\n\n\t\tsuper();\n\n\t\tconst scope = this;\n\n\t\tconst raycaster = new Raycaster();\n\t\tconst tempMatrix = new Matrix4();\n\n\t\t// Pointer Events\n\n\t\tconst element = renderer.domElement;\n\n\t\tfunction onPointerEvent( event ) {\n\n\t\t\tevent.stopPropagation();\n\n\t\t\tconst rect = renderer.domElement.getBoundingClientRect();\n\n\t\t\t_pointer.x = ( event.clientX - rect.left ) / rect.width * 2 - 1;\n\t\t\t_pointer.y = - ( event.clientY - rect.top ) / rect.height * 2 + 1;\n\n\t\t\traycaster.setFromCamera( _pointer, camera );\n\n\t\t\tconst intersects = raycaster.intersectObjects( scope.children, false );\n\n\t\t\tif ( intersects.length > 0 ) {\n\n\t\t\t\tconst intersection = intersects[ 0 ];\n\n\t\t\t\tconst object = intersection.object;\n\t\t\t\tconst uv = intersection.uv;\n\n\t\t\t\t_event.type = event.type;\n\t\t\t\t_event.data.set( uv.x, 1 - uv.y );\n\n\t\t\t\tobject.dispatchEvent( _event );\n\n\t\t\t}\n\n\t\t}\n\n\t\telement.addEventListener( 'pointerdown', onPointerEvent );\n\t\telement.addEventListener( 'pointerup', onPointerEvent );\n\t\telement.addEventListener( 'pointermove', onPointerEvent );\n\t\telement.addEventListener( 'mousedown', onPointerEvent );\n\t\telement.addEventListener( 'mouseup', onPointerEvent );\n\t\telement.addEventListener( 'mousemove', onPointerEvent );\n\t\telement.addEventListener( 'click', onPointerEvent );\n\n\t\t// WebXR Controller Events\n\t\t// TODO: Dispatch pointerevents too\n\n\t\tconst events = {\n\t\t\t'move': 'mousemove',\n\t\t\t'select': 'click',\n\t\t\t'selectstart': 'mousedown',\n\t\t\t'selectend': 'mouseup'\n\t\t};\n\n\t\tfunction onXRControllerEvent( event ) {\n\n\t\t\tconst controller = event.target;\n\n\t\t\ttempMatrix.identity().extractRotation( controller.matrixWorld );\n\n\t\t\traycaster.ray.origin.setFromMatrixPosition( controller.matrixWorld );\n\t\t\traycaster.ray.direction.set( 0, 0, - 1 ).applyMatrix4( tempMatrix );\n\n\t\t\tconst intersections = raycaster.intersectObjects( scope.children, false );\n\n\t\t\tif ( intersections.length > 0 ) {\n\n\t\t\t\tconst intersection = intersections[ 0 ];\n\n\t\t\t\tconst object = intersection.object;\n\t\t\t\tconst uv = intersection.uv;\n\n\t\t\t\t_event.type = events[ event.type ];\n\t\t\t\t_event.data.set( uv.x, 1 - uv.y );\n\n\t\t\t\tobject.dispatchEvent( _event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst controller1 = renderer.xr.getController( 0 );\n\t\tcontroller1.addEventListener( 'move', onXRControllerEvent );\n\t\tcontroller1.addEventListener( 'select', onXRControllerEvent );\n\t\tcontroller1.addEventListener( 'selectstart', onXRControllerEvent );\n\t\tcontroller1.addEventListener( 'selectend', onXRControllerEvent );\n\n\t\tconst controller2 = renderer.xr.getController( 1 );\n\t\tcontroller2.addEventListener( 'move', onXRControllerEvent );\n\t\tcontroller2.addEventListener( 'select', onXRControllerEvent );\n\t\tcontroller2.addEventListener( 'selectstart', onXRControllerEvent );\n\t\tcontroller2.addEventListener( 'selectend', onXRControllerEvent );\n\n\t}\n\n}\n\nexport { InteractiveGroup };\n","/**\n * lil-gui\n * https://lil-gui.georgealways.com\n * @version 0.17.0\n * @author George Michael Brower\n * @license MIT\n */\nclass t{constructor(i,e,s,n,l=\"div\"){this.parent=i,this.object=e,this.property=s,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement(\"div\"),this.domElement.classList.add(\"controller\"),this.domElement.classList.add(n),this.$name=document.createElement(\"div\"),this.$name.classList.add(\"name\"),t.nextNameID=t.nextNameID||0,this.$name.id=\"lil-gui-name-\"+ ++t.nextNameID,this.$widget=document.createElement(l),this.$widget.classList.add(\"widget\"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(s)}name(t){return this._name=t,this.$name.innerHTML=t,this}onChange(t){return this._onChange=t,this}_callOnChange(){this.parent._callOnChange(this),void 0!==this._onChange&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),void 0!==this._onFinishChange&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(t=!0){return this.disable(!t)}disable(t=!0){return t===this._disabled||(this._disabled=t,this.domElement.classList.toggle(\"disabled\",t),this.$disable.toggleAttribute(\"disabled\",t)),this}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?\"none\":\"\",this}hide(){return this.show(!1)}options(t){const i=this.parent.add(this.object,this.property,t);return i.name(this._name),this.destroy(),i}min(t){return this}max(t){return this}step(t){return this}decimals(t){return this}listen(t=!0){return this._listening=t,void 0!==this._listenCallbackID&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const t=this.save();t!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=t}getValue(){return this.object[this.property]}setValue(t){return this.object[this.property]=t,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(t){return this.setValue(t),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class i extends t{constructor(t,i,e){super(t,i,e,\"boolean\",\"label\"),this.$input=document.createElement(\"input\"),this.$input.setAttribute(\"type\",\"checkbox\"),this.$input.setAttribute(\"aria-labelledby\",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener(\"change\",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function e(t){let i,e;return(i=t.match(/(#|0x)?([a-f0-9]{6})/i))?e=i[2]:(i=t.match(/rgb\\(\\s*(\\d*)\\s*,\\s*(\\d*)\\s*,\\s*(\\d*)\\s*\\)/))?e=parseInt(i[1]).toString(16).padStart(2,0)+parseInt(i[2]).toString(16).padStart(2,0)+parseInt(i[3]).toString(16).padStart(2,0):(i=t.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(e=i[1]+i[1]+i[2]+i[2]+i[3]+i[3]),!!e&&\"#\"+e}const s={isPrimitive:!0,match:t=>\"string\"==typeof t,fromHexString:e,toHexString:e},n={isPrimitive:!0,match:t=>\"number\"==typeof t,fromHexString:t=>parseInt(t.substring(1),16),toHexString:t=>\"#\"+t.toString(16).padStart(6,0)},l={isPrimitive:!1,match:Array.isArray,fromHexString(t,i,e=1){const s=n.fromHexString(t);i[0]=(s>>16&255)/255*e,i[1]=(s>>8&255)/255*e,i[2]=(255&s)/255*e},toHexString:([t,i,e],s=1)=>n.toHexString(t*(s=255/s)<<16^i*s<<8^e*s<<0)},r={isPrimitive:!1,match:t=>Object(t)===t,fromHexString(t,i,e=1){const s=n.fromHexString(t);i.r=(s>>16&255)/255*e,i.g=(s>>8&255)/255*e,i.b=(255&s)/255*e},toHexString:({r:t,g:i,b:e},s=1)=>n.toHexString(t*(s=255/s)<<16^i*s<<8^e*s<<0)},o=[s,n,l,r];class a extends t{constructor(t,i,s,n){var l;super(t,i,s,\"color\"),this.$input=document.createElement(\"input\"),this.$input.setAttribute(\"type\",\"color\"),this.$input.setAttribute(\"tabindex\",-1),this.$input.setAttribute(\"aria-labelledby\",this.$name.id),this.$text=document.createElement(\"input\"),this.$text.setAttribute(\"type\",\"text\"),this.$text.setAttribute(\"spellcheck\",\"false\"),this.$text.setAttribute(\"aria-labelledby\",this.$name.id),this.$display=document.createElement(\"div\"),this.$display.classList.add(\"display\"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=(l=this.initialValue,o.find(t=>t.match(l))),this._rgbScale=n,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener(\"input\",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener(\"blur\",()=>{this._callOnFinishChange()}),this.$text.addEventListener(\"input\",()=>{const t=e(this.$text.value);t&&this._setValueFromHexString(t)}),this.$text.addEventListener(\"focus\",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener(\"blur\",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(t){if(this._format.isPrimitive){const i=this._format.fromHexString(t);this.setValue(i)}else this._format.fromHexString(t,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(t){return this._setValueFromHexString(t),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class h extends t{constructor(t,i,e){super(t,i,e,\"function\"),this.$button=document.createElement(\"button\"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener(\"click\",t=>{t.preventDefault(),this.getValue().call(this.object)}),this.$button.addEventListener(\"touchstart\",()=>{},{passive:!0}),this.$disable=this.$button}}class d extends t{constructor(t,i,e,s,n,l){super(t,i,e,\"number\"),this._initInput(),this.min(s),this.max(n);const r=void 0!==l;this.step(r?l:this._getImplicitStep(),r),this.updateDisplay()}decimals(t){return this._decimals=t,this.updateDisplay(),this}min(t){return this._min=t,this._onUpdateMinMax(),this}max(t){return this._max=t,this._onUpdateMinMax(),this}step(t,i=!0){return this._step=t,this._stepExplicit=i,this}updateDisplay(){const t=this.getValue();if(this._hasSlider){let i=(t-this._min)/(this._max-this._min);i=Math.max(0,Math.min(i,1)),this.$fill.style.width=100*i+\"%\"}return this._inputFocused||(this.$input.value=void 0===this._decimals?t:t.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement(\"input\"),this.$input.setAttribute(\"type\",\"number\"),this.$input.setAttribute(\"step\",\"any\"),this.$input.setAttribute(\"aria-labelledby\",this.$name.id),this.$widget.appendChild(this.$input),this.$disable=this.$input;const t=t=>{const i=parseFloat(this.$input.value);isNaN(i)||(this._snapClampSetValue(i+t),this.$input.value=this.getValue())};let i,e,s,n,l,r=!1;const o=t=>{if(r){const s=t.clientX-i,n=t.clientY-e;Math.abs(n)>5?(t.preventDefault(),this.$input.blur(),r=!1,this._setDraggingStyle(!0,\"vertical\")):Math.abs(s)>5&&a()}if(!r){const i=t.clientY-s;l-=i*this._step*this._arrowKeyMultiplier(t),n+l>this._max?l=this._max-n:n+l<this._min&&(l=this._min-n),this._snapClampSetValue(n+l)}s=t.clientY},a=()=>{this._setDraggingStyle(!1,\"vertical\"),this._callOnFinishChange(),window.removeEventListener(\"mousemove\",o),window.removeEventListener(\"mouseup\",a)};this.$input.addEventListener(\"input\",()=>{let t=parseFloat(this.$input.value);isNaN(t)||(this._stepExplicit&&(t=this._snap(t)),this.setValue(this._clamp(t)))}),this.$input.addEventListener(\"keydown\",i=>{\"Enter\"===i.code&&this.$input.blur(),\"ArrowUp\"===i.code&&(i.preventDefault(),t(this._step*this._arrowKeyMultiplier(i))),\"ArrowDown\"===i.code&&(i.preventDefault(),t(this._step*this._arrowKeyMultiplier(i)*-1))}),this.$input.addEventListener(\"wheel\",i=>{this._inputFocused&&(i.preventDefault(),t(this._step*this._normalizeMouseWheel(i)))},{passive:!1}),this.$input.addEventListener(\"mousedown\",t=>{i=t.clientX,e=s=t.clientY,r=!0,n=this.getValue(),l=0,window.addEventListener(\"mousemove\",o),window.addEventListener(\"mouseup\",a)}),this.$input.addEventListener(\"focus\",()=>{this._inputFocused=!0}),this.$input.addEventListener(\"blur\",()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()})}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement(\"div\"),this.$slider.classList.add(\"slider\"),this.$fill=document.createElement(\"div\"),this.$fill.classList.add(\"fill\"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add(\"hasSlider\");const t=t=>{const i=this.$slider.getBoundingClientRect();let e=(s=t,n=i.left,l=i.right,r=this._min,o=this._max,(s-n)/(l-n)*(o-r)+r);var s,n,l,r,o;this._snapClampSetValue(e)},i=i=>{t(i.clientX)},e=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener(\"mousemove\",i),window.removeEventListener(\"mouseup\",e)};let s,n,l=!1;const r=i=>{i.preventDefault(),this._setDraggingStyle(!0),t(i.touches[0].clientX),l=!1},o=i=>{if(l){const t=i.touches[0].clientX-s,e=i.touches[0].clientY-n;Math.abs(t)>Math.abs(e)?r(i):(window.removeEventListener(\"touchmove\",o),window.removeEventListener(\"touchend\",a))}else i.preventDefault(),t(i.touches[0].clientX)},a=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener(\"touchmove\",o),window.removeEventListener(\"touchend\",a)},h=this._callOnFinishChange.bind(this);let d;this.$slider.addEventListener(\"mousedown\",s=>{this._setDraggingStyle(!0),t(s.clientX),window.addEventListener(\"mousemove\",i),window.addEventListener(\"mouseup\",e)}),this.$slider.addEventListener(\"touchstart\",t=>{t.touches.length>1||(this._hasScrollBar?(s=t.touches[0].clientX,n=t.touches[0].clientY,l=!0):r(t),window.addEventListener(\"touchmove\",o,{passive:!1}),window.addEventListener(\"touchend\",a))},{passive:!1}),this.$slider.addEventListener(\"wheel\",t=>{if(Math.abs(t.deltaX)<Math.abs(t.deltaY)&&this._hasScrollBar)return;t.preventDefault();const i=this._normalizeMouseWheel(t)*this._step;this._snapClampSetValue(this.getValue()+i),this.$input.value=this.getValue(),clearTimeout(d),d=setTimeout(h,400)},{passive:!1})}_setDraggingStyle(t,i=\"horizontal\"){this.$slider&&this.$slider.classList.toggle(\"active\",t),document.body.classList.toggle(\"lil-gui-dragging\",t),document.body.classList.toggle(\"lil-gui-\"+i,t)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(t){let{deltaX:i,deltaY:e}=t;Math.floor(t.deltaY)!==t.deltaY&&t.wheelDelta&&(i=0,e=-t.wheelDelta/120,e*=this._stepExplicit?1:10);return i+-e}_arrowKeyMultiplier(t){let i=this._stepExplicit?1:10;return t.shiftKey?i*=10:t.altKey&&(i/=10),i}_snap(t){const i=Math.round(t/this._step)*this._step;return parseFloat(i.toPrecision(15))}_clamp(t){return t<this._min&&(t=this._min),t>this._max&&(t=this._max),t}_snapClampSetValue(t){this.setValue(this._clamp(this._snap(t)))}get _hasScrollBar(){const t=this.parent.root.$children;return t.scrollHeight>t.clientHeight}get _hasMin(){return void 0!==this._min}get _hasMax(){return void 0!==this._max}}class c extends t{constructor(t,i,e,s){super(t,i,e,\"option\"),this.$select=document.createElement(\"select\"),this.$select.setAttribute(\"aria-labelledby\",this.$name.id),this.$display=document.createElement(\"div\"),this.$display.classList.add(\"display\"),this._values=Array.isArray(s)?s:Object.values(s),this._names=Array.isArray(s)?s:Object.keys(s),this._names.forEach(t=>{const i=document.createElement(\"option\");i.innerHTML=t,this.$select.appendChild(i)}),this.$select.addEventListener(\"change\",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener(\"focus\",()=>{this.$display.classList.add(\"focus\")}),this.$select.addEventListener(\"blur\",()=>{this.$display.classList.remove(\"focus\")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){const t=this.getValue(),i=this._values.indexOf(t);return this.$select.selectedIndex=i,this.$display.innerHTML=-1===i?t:this._names[i],this}}class u extends t{constructor(t,i,e){super(t,i,e,\"string\"),this.$input=document.createElement(\"input\"),this.$input.setAttribute(\"type\",\"text\"),this.$input.setAttribute(\"aria-labelledby\",this.$name.id),this.$input.addEventListener(\"input\",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener(\"keydown\",t=>{\"Enter\"===t.code&&this.$input.blur()}),this.$input.addEventListener(\"blur\",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}let p=!1;class g{constructor({parent:t,autoPlace:i=void 0===t,container:e,width:s,title:n=\"Controls\",injectStyles:l=!0,touchStyles:r=!0}={}){if(this.parent=t,this.root=t?t.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement(\"div\"),this.domElement.classList.add(\"lil-gui\"),this.$title=document.createElement(\"div\"),this.$title.classList.add(\"title\"),this.$title.setAttribute(\"role\",\"button\"),this.$title.setAttribute(\"aria-expanded\",!0),this.$title.setAttribute(\"tabindex\",0),this.$title.addEventListener(\"click\",()=>this.openAnimated(this._closed)),this.$title.addEventListener(\"keydown\",t=>{\"Enter\"!==t.code&&\"Space\"!==t.code||(t.preventDefault(),this.$title.click())}),this.$title.addEventListener(\"touchstart\",()=>{},{passive:!0}),this.$children=document.createElement(\"div\"),this.$children.classList.add(\"children\"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(n),r&&this.domElement.classList.add(\"allow-touch-styles\"),this.parent)return this.parent.children.push(this),this.parent.folders.push(this),void this.parent.$children.appendChild(this.domElement);this.domElement.classList.add(\"root\"),!p&&l&&(!function(t){const i=document.createElement(\"style\");i.innerHTML=t;const e=document.querySelector(\"head link[rel=stylesheet], head style\");e?document.head.insertBefore(i,e):document.head.appendChild(i)}('.lil-gui{--background-color:#1f1f1f;--text-color:#ebebeb;--title-background-color:#111;--title-text-color:#ebebeb;--widget-color:#424242;--hover-color:#4f4f4f;--focus-color:#595959;--number-color:#2cc9ff;--string-color:#a2db3c;--font-size:11px;--input-font-size:11px;--font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Arial,sans-serif;--font-family-mono:Menlo,Monaco,Consolas,\"Droid Sans Mono\",monospace;--padding:4px;--spacing:4px;--widget-height:20px;--name-width:45%;--slider-knob-width:2px;--slider-input-width:27%;--color-input-width:27%;--slider-input-min-width:45px;--color-input-min-width:45px;--folder-indent:7px;--widget-padding:0 0 0 3px;--widget-border-radius:2px;--checkbox-size:calc(var(--widget-height)*0.75);--scrollbar-width:5px;background-color:var(--background-color);color:var(--text-color);font-family:var(--font-family);font-size:var(--font-size);font-style:normal;font-weight:400;line-height:1;text-align:left;touch-action:manipulation;user-select:none;-webkit-user-select:none}.lil-gui,.lil-gui *{box-sizing:border-box;margin:0;padding:0}.lil-gui.root{display:flex;flex-direction:column;width:var(--width,245px)}.lil-gui.root>.title{background:var(--title-background-color);color:var(--title-text-color)}.lil-gui.root>.children{overflow-x:hidden;overflow-y:auto}.lil-gui.root>.children::-webkit-scrollbar{background:var(--background-color);height:var(--scrollbar-width);width:var(--scrollbar-width)}.lil-gui.root>.children::-webkit-scrollbar-thumb{background:var(--focus-color);border-radius:var(--scrollbar-width)}.lil-gui.force-touch-styles{--widget-height:28px;--padding:6px;--spacing:6px;--font-size:13px;--input-font-size:16px;--folder-indent:10px;--scrollbar-width:7px;--slider-input-min-width:50px;--color-input-min-width:65px}.lil-gui.autoPlace{max-height:100%;position:fixed;right:15px;top:0;z-index:1001}.lil-gui .controller{align-items:center;display:flex;margin:var(--spacing) 0;padding:0 var(--padding)}.lil-gui .controller.disabled{opacity:.5}.lil-gui .controller.disabled,.lil-gui .controller.disabled *{pointer-events:none!important}.lil-gui .controller>.name{flex-shrink:0;line-height:var(--widget-height);min-width:var(--name-width);padding-right:var(--spacing);white-space:pre}.lil-gui .controller .widget{align-items:center;display:flex;min-height:var(--widget-height);position:relative;width:100%}.lil-gui .controller.string input{color:var(--string-color)}.lil-gui .controller.boolean .widget{cursor:pointer}.lil-gui .controller.color .display{border-radius:var(--widget-border-radius);height:var(--widget-height);position:relative;width:100%}.lil-gui .controller.color input[type=color]{cursor:pointer;height:100%;opacity:0;width:100%}.lil-gui .controller.color input[type=text]{flex-shrink:0;font-family:var(--font-family-mono);margin-left:var(--spacing);min-width:var(--color-input-min-width);width:var(--color-input-width)}.lil-gui .controller.option select{max-width:100%;opacity:0;position:absolute;width:100%}.lil-gui .controller.option .display{background:var(--widget-color);border-radius:var(--widget-border-radius);height:var(--widget-height);line-height:var(--widget-height);max-width:100%;overflow:hidden;padding-left:.55em;padding-right:1.75em;pointer-events:none;position:relative;word-break:break-all}.lil-gui .controller.option .display.active{background:var(--focus-color)}.lil-gui .controller.option .display:after{bottom:0;content:\"\";font-family:lil-gui;padding-right:.375em;position:absolute;right:0;top:0}.lil-gui .controller.option .widget,.lil-gui .controller.option select{cursor:pointer}.lil-gui .controller.number input{color:var(--number-color)}.lil-gui .controller.number.hasSlider input{flex-shrink:0;margin-left:var(--spacing);min-width:var(--slider-input-min-width);width:var(--slider-input-width)}.lil-gui .controller.number .slider{background-color:var(--widget-color);border-radius:var(--widget-border-radius);cursor:ew-resize;height:var(--widget-height);overflow:hidden;padding-right:var(--slider-knob-width);touch-action:pan-y;width:100%}.lil-gui .controller.number .slider.active{background-color:var(--focus-color)}.lil-gui .controller.number .slider.active .fill{opacity:.95}.lil-gui .controller.number .fill{border-right:var(--slider-knob-width) solid var(--number-color);box-sizing:content-box;height:100%}.lil-gui-dragging .lil-gui{--hover-color:var(--widget-color)}.lil-gui-dragging *{cursor:ew-resize!important}.lil-gui-dragging.lil-gui-vertical *{cursor:ns-resize!important}.lil-gui .title{--title-height:calc(var(--widget-height) + var(--spacing)*1.25);-webkit-tap-highlight-color:transparent;text-decoration-skip:objects;cursor:pointer;font-weight:600;height:var(--title-height);line-height:calc(var(--title-height) - 4px);outline:none;padding:0 var(--padding)}.lil-gui .title:before{content:\"\";display:inline-block;font-family:lil-gui;padding-right:2px}.lil-gui .title:active{background:var(--title-background-color);opacity:.75}.lil-gui.root>.title:focus{text-decoration:none!important}.lil-gui.closed>.title:before{content:\"\"}.lil-gui.closed>.children{opacity:0;transform:translateY(-7px)}.lil-gui.closed:not(.transition)>.children{display:none}.lil-gui.transition>.children{overflow:hidden;pointer-events:none;transition-duration:.3s;transition-property:height,opacity,transform;transition-timing-function:cubic-bezier(.2,.6,.35,1)}.lil-gui .children:empty:before{content:\"Empty\";display:block;font-style:italic;height:var(--widget-height);line-height:var(--widget-height);margin:var(--spacing) 0;opacity:.5;padding:0 var(--padding)}.lil-gui.root>.children>.lil-gui>.title{border-width:0;border-bottom:1px solid var(--widget-color);border-left:0 solid var(--widget-color);border-right:0 solid var(--widget-color);border-top:1px solid var(--widget-color);transition:border-color .3s}.lil-gui.root>.children>.lil-gui.closed>.title{border-bottom-color:transparent}.lil-gui+.controller{border-top:1px solid var(--widget-color);margin-top:0;padding-top:var(--spacing)}.lil-gui .lil-gui .lil-gui>.title{border:none}.lil-gui .lil-gui .lil-gui>.children{border:none;border-left:2px solid var(--widget-color);margin-left:var(--folder-indent)}.lil-gui .lil-gui .controller{border:none}.lil-gui input{-webkit-tap-highlight-color:transparent;background:var(--widget-color);border:0;border-radius:var(--widget-border-radius);color:var(--text-color);font-family:var(--font-family);font-size:var(--input-font-size);height:var(--widget-height);outline:none;width:100%}.lil-gui input:disabled{opacity:1}.lil-gui input[type=number],.lil-gui input[type=text]{padding:var(--widget-padding)}.lil-gui input[type=number]:focus,.lil-gui input[type=text]:focus{background:var(--focus-color)}.lil-gui input::-webkit-inner-spin-button,.lil-gui input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.lil-gui input[type=number]{-moz-appearance:textfield}.lil-gui input[type=checkbox]{appearance:none;-webkit-appearance:none;border-radius:var(--widget-border-radius);cursor:pointer;height:var(--checkbox-size);text-align:center;width:var(--checkbox-size)}.lil-gui input[type=checkbox]:checked:before{content:\"\";font-family:lil-gui;font-size:var(--checkbox-size);line-height:var(--checkbox-size)}.lil-gui button{-webkit-tap-highlight-color:transparent;background:var(--widget-color);border:1px solid var(--widget-color);border-radius:var(--widget-border-radius);color:var(--text-color);cursor:pointer;font-family:var(--font-family);font-size:var(--font-size);height:var(--widget-height);line-height:calc(var(--widget-height) - 4px);outline:none;text-align:center;text-transform:none;width:100%}.lil-gui button:active{background:var(--focus-color)}@font-face{font-family:lil-gui;src:url(\"data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==\") format(\"woff\")}@media (pointer:coarse){.lil-gui.allow-touch-styles{--widget-height:28px;--padding:6px;--spacing:6px;--font-size:13px;--input-font-size:16px;--folder-indent:10px;--scrollbar-width:7px;--slider-input-min-width:50px;--color-input-min-width:65px}}@media (hover:hover){.lil-gui .controller.color .display:hover:before{border:1px solid #fff9;border-radius:var(--widget-border-radius);bottom:0;content:\" \";display:block;left:0;position:absolute;right:0;top:0}.lil-gui .controller.option .display.focus{background:var(--focus-color)}.lil-gui .controller.option .widget:hover .display{background:var(--hover-color)}.lil-gui .controller.number .slider:hover{background-color:var(--hover-color)}body:not(.lil-gui-dragging) .lil-gui .title:hover{background:var(--title-background-color);opacity:.85}.lil-gui .title:focus{text-decoration:underline var(--focus-color)}.lil-gui input:hover{background:var(--hover-color)}.lil-gui input:active{background:var(--focus-color)}.lil-gui input[type=checkbox]:focus{box-shadow:inset 0 0 0 1px var(--focus-color)}.lil-gui button:hover{background:var(--hover-color);border-color:var(--hover-color)}.lil-gui button:focus{border-color:var(--focus-color)}}'),p=!0),e?e.appendChild(this.domElement):i&&(this.domElement.classList.add(\"autoPlace\"),document.body.appendChild(this.domElement)),s&&this.domElement.style.setProperty(\"--width\",s+\"px\"),this.domElement.addEventListener(\"keydown\",t=>t.stopPropagation()),this.domElement.addEventListener(\"keyup\",t=>t.stopPropagation())}add(t,e,s,n,l){if(Object(s)===s)return new c(this,t,e,s);const r=t[e];switch(typeof r){case\"number\":return new d(this,t,e,s,n,l);case\"boolean\":return new i(this,t,e);case\"string\":return new u(this,t,e);case\"function\":return new h(this,t,e)}console.error(\"gui.add failed\\n\\tproperty:\",e,\"\\n\\tobject:\",t,\"\\n\\tvalue:\",r)}addColor(t,i,e=1){return new a(this,t,i,e)}addFolder(t){return new g({parent:this,title:t})}load(t,i=!0){return t.controllers&&this.controllers.forEach(i=>{i instanceof h||i._name in t.controllers&&i.load(t.controllers[i._name])}),i&&t.folders&&this.folders.forEach(i=>{i._title in t.folders&&i.load(t.folders[i._title])}),this}save(t=!0){const i={controllers:{},folders:{}};return this.controllers.forEach(t=>{if(!(t instanceof h)){if(t._name in i.controllers)throw new Error(`Cannot save GUI with duplicate property \"${t._name}\"`);i.controllers[t._name]=t.save()}}),t&&this.folders.forEach(t=>{if(t._title in i.folders)throw new Error(`Cannot save GUI with duplicate folder \"${t._title}\"`);i.folders[t._title]=t.save()}),i}open(t=!0){return this._closed=!t,this.$title.setAttribute(\"aria-expanded\",!this._closed),this.domElement.classList.toggle(\"closed\",this._closed),this}close(){return this.open(!1)}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?\"none\":\"\",this}hide(){return this.show(!1)}openAnimated(t=!0){return this._closed=!t,this.$title.setAttribute(\"aria-expanded\",!this._closed),requestAnimationFrame(()=>{const i=this.$children.clientHeight;this.$children.style.height=i+\"px\",this.domElement.classList.add(\"transition\");const e=t=>{t.target===this.$children&&(this.$children.style.height=\"\",this.domElement.classList.remove(\"transition\"),this.$children.removeEventListener(\"transitionend\",e))};this.$children.addEventListener(\"transitionend\",e);const s=t?this.$children.scrollHeight:0;this.domElement.classList.toggle(\"closed\",!t),requestAnimationFrame(()=>{this.$children.style.height=s+\"px\"})}),this}title(t){return this._title=t,this.$title.innerHTML=t,this}reset(t=!0){return(t?this.controllersRecursive():this.controllers).forEach(t=>t.reset()),this}onChange(t){return this._onChange=t,this}_callOnChange(t){this.parent&&this.parent._callOnChange(t),void 0!==this._onChange&&this._onChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(t){this.parent&&this.parent._callOnFinishChange(t),void 0!==this._onFinishChange&&this._onFinishChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(t=>t.destroy())}controllersRecursive(){let t=Array.from(this.controllers);return this.folders.forEach(i=>{t=t.concat(i.controllersRecursive())}),t}foldersRecursive(){let t=Array.from(this.folders);return this.folders.forEach(i=>{t=t.concat(i.foldersRecursive())}),t}}export default g;export{i as BooleanController,a as ColorController,t as Controller,h as FunctionController,g as GUI,d as NumberController,c as OptionController,u as StringController};\n","var Stats = function () {\n\n\tvar mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';\n\tcontainer.addEventListener( 'click', function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tshowPanel( ++ mode % container.children.length );\n\n\t}, false );\n\n\t//\n\n\tfunction addPanel( panel ) {\n\n\t\tcontainer.appendChild( panel.dom );\n\t\treturn panel;\n\n\t}\n\n\tfunction showPanel( id ) {\n\n\t\tfor ( var i = 0; i < container.children.length; i ++ ) {\n\n\t\t\tcontainer.children[ i ].style.display = i === id ? 'block' : 'none';\n\n\t\t}\n\n\t\tmode = id;\n\n\t}\n\n\t//\n\n\tvar beginTime = ( performance || Date ).now(), prevTime = beginTime, frames = 0;\n\n\tvar fpsPanel = addPanel( new Stats.Panel( 'FPS', '#0ff', '#002' ) );\n\tvar msPanel = addPanel( new Stats.Panel( 'MS', '#0f0', '#020' ) );\n\n\tif ( self.performance && self.performance.memory ) {\n\n\t\tvar memPanel = addPanel( new Stats.Panel( 'MB', '#f08', '#201' ) );\n\n\t}\n\n\tshowPanel( 0 );\n\n\treturn {\n\n\t\tREVISION: 16,\n\n\t\tdom: container,\n\n\t\taddPanel: addPanel,\n\t\tshowPanel: showPanel,\n\n\t\tbegin: function () {\n\n\t\t\tbeginTime = ( performance || Date ).now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tframes ++;\n\n\t\t\tvar time = ( performance || Date ).now();\n\n\t\t\tmsPanel.update( time - beginTime, 200 );\n\n\t\t\tif ( time >= prevTime + 1000 ) {\n\n\t\t\t\tfpsPanel.update( ( frames * 1000 ) / ( time - prevTime ), 100 );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t\tif ( memPanel ) {\n\n\t\t\t\t\tvar memory = performance.memory;\n\t\t\t\t\tmemPanel.update( memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tbeginTime = this.end();\n\n\t\t},\n\n\t\t// Backwards Compatibility\n\n\t\tdomElement: container,\n\t\tsetMode: showPanel\n\n\t};\n\n};\n\nStats.Panel = function ( name, fg, bg ) {\n\n\tvar min = Infinity, max = 0, round = Math.round;\n\tvar PR = round( window.devicePixelRatio || 1 );\n\n\tvar WIDTH = 80 * PR, HEIGHT = 48 * PR,\n\t\tTEXT_X = 3 * PR, TEXT_Y = 2 * PR,\n\t\tGRAPH_X = 3 * PR, GRAPH_Y = 15 * PR,\n\t\tGRAPH_WIDTH = 74 * PR, GRAPH_HEIGHT = 30 * PR;\n\n\tvar canvas = document.createElement( 'canvas' );\n\tcanvas.width = WIDTH;\n\tcanvas.height = HEIGHT;\n\tcanvas.style.cssText = 'width:80px;height:48px';\n\n\tvar context = canvas.getContext( '2d' );\n\tcontext.font = 'bold ' + ( 9 * PR ) + 'px Helvetica,Arial,sans-serif';\n\tcontext.textBaseline = 'top';\n\n\tcontext.fillStyle = bg;\n\tcontext.fillRect( 0, 0, WIDTH, HEIGHT );\n\n\tcontext.fillStyle = fg;\n\tcontext.fillText( name, TEXT_X, TEXT_Y );\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\tcontext.fillStyle = bg;\n\tcontext.globalAlpha = 0.9;\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\treturn {\n\n\t\tdom: canvas,\n\n\t\tupdate: function ( value, maxValue ) {\n\n\t\t\tmin = Math.min( min, value );\n\t\t\tmax = Math.max( max, value );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tcontext.fillRect( 0, 0, WIDTH, GRAPH_Y );\n\t\t\tcontext.fillStyle = fg;\n\t\t\tcontext.fillText( round( value ) + ' ' + name + ' (' + round( min ) + '-' + round( max ) + ')', TEXT_X, TEXT_Y );\n\n\t\t\tcontext.drawImage( canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 0.9;\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round( ( 1 - ( value / maxValue ) ) * GRAPH_HEIGHT ) );\n\n\t\t}\n\n\t};\n\n};\n\nexport default Stats;\n","import { render } from \"./ThreeWebVRExamples.vue?vue&type=template&id=4c6ee51b\"\nimport script from \"./ThreeWebVRExamples.vue?vue&type=script&lang=js\"\nexport * from \"./ThreeWebVRExamples.vue?vue&type=script&lang=js\"\n\nimport \"./ThreeWebVRExamples.vue?vue&type=style&index=0&id=4c6ee51b&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","class VRButton {\n\n\tstatic createButton( renderer ) {\n\n\t\tconst button = document.createElement( 'button' );\n\n\t\tfunction showEnterVR( /*device*/ ) {\n\n\t\t\tlet currentSession = null;\n\n\t\t\tasync function onSessionStarted( session ) {\n\n\t\t\t\tsession.addEventListener( 'end', onSessionEnded );\n\n\t\t\t\tawait renderer.xr.setSession( session );\n\t\t\t\tbutton.textContent = 'EXIT VR';\n\n\t\t\t\tcurrentSession = session;\n\n\t\t\t}\n\n\t\t\tfunction onSessionEnded( /*event*/ ) {\n\n\t\t\t\tcurrentSession.removeEventListener( 'end', onSessionEnded );\n\n\t\t\t\tbutton.textContent = 'ENTER VR';\n\n\t\t\t\tcurrentSession = null;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tbutton.style.display = '';\n\n\t\t\tbutton.style.cursor = 'pointer';\n\t\t\tbutton.style.left = 'calc(50% - 50px)';\n\t\t\tbutton.style.width = '100px';\n\n\t\t\tbutton.textContent = 'ENTER VR';\n\n\t\t\tbutton.onmouseenter = function () {\n\n\t\t\t\tbutton.style.opacity = '1.0';\n\n\t\t\t};\n\n\t\t\tbutton.onmouseleave = function () {\n\n\t\t\t\tbutton.style.opacity = '0.5';\n\n\t\t\t};\n\n\t\t\tbutton.onclick = function () {\n\n\t\t\t\tif ( currentSession === null ) {\n\n\t\t\t\t\t// WebXR's requestReferenceSpace only works if the corresponding feature\n\t\t\t\t\t// was requested at session creation time. For simplicity, just ask for\n\t\t\t\t\t// the interesting ones as optional features, but be aware that the\n\t\t\t\t\t// requestReferenceSpace call will fail if it turns out to be unavailable.\n\t\t\t\t\t// ('local' is always available for immersive sessions and doesn't need to\n\t\t\t\t\t// be requested separately.)\n\n\t\t\t\t\tconst sessionInit = { optionalFeatures: [ 'local-floor', 'bounded-floor', 'hand-tracking', 'layers' ] };\n\t\t\t\t\tnavigator.xr.requestSession( 'immersive-vr', sessionInit ).then( onSessionStarted );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcurrentSession.end();\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t\tfunction disableButton() {\n\n\t\t\tbutton.style.display = '';\n\n\t\t\tbutton.style.cursor = 'auto';\n\t\t\tbutton.style.left = 'calc(50% - 75px)';\n\t\t\tbutton.style.width = '150px';\n\n\t\t\tbutton.onmouseenter = null;\n\t\t\tbutton.onmouseleave = null;\n\n\t\t\tbutton.onclick = null;\n\n\t\t}\n\n\t\tfunction showWebXRNotFound() {\n\n\t\t\tdisableButton();\n\n\t\t\tbutton.textContent = 'VR NOT SUPPORTED';\n\n\t\t}\n\n\t\tfunction showVRNotAllowed( exception ) {\n\n\t\t\tdisableButton();\n\n\t\t\tconsole.warn( 'Exception when trying to call xr.isSessionSupported', exception );\n\n\t\t\tbutton.textContent = 'VR NOT ALLOWED';\n\n\t\t}\n\n\t\tfunction stylizeElement( element ) {\n\n\t\t\telement.style.position = 'absolute';\n\t\t\telement.style.bottom = '20px';\n\t\t\telement.style.padding = '12px 6px';\n\t\t\telement.style.border = '1px solid #fff';\n\t\t\telement.style.borderRadius = '4px';\n\t\t\telement.style.background = 'rgba(0,0,0,0.1)';\n\t\t\telement.style.color = '#fff';\n\t\t\telement.style.font = 'normal 13px sans-serif';\n\t\t\telement.style.textAlign = 'center';\n\t\t\telement.style.opacity = '0.5';\n\t\t\telement.style.outline = 'none';\n\t\t\telement.style.zIndex = '999';\n\n\t\t}\n\n\t\tif ( 'xr' in navigator ) {\n\n\t\t\tbutton.id = 'VRButton';\n\t\t\tbutton.style.display = 'none';\n\n\t\t\tstylizeElement( button );\n\n\t\t\tnavigator.xr.isSessionSupported( 'immersive-vr' ).then( function ( supported ) {\n\n\t\t\t\tsupported ? showEnterVR() : showWebXRNotFound();\n\n\t\t\t\tif ( supported && VRButton.xrSessionIsGranted ) {\n\n\t\t\t\t\tbutton.click();\n\n\t\t\t\t}\n\n\t\t\t} ).catch( showVRNotAllowed );\n\n\t\t\treturn button;\n\n\t\t} else {\n\n\t\t\tconst message = document.createElement( 'a' );\n\n\t\t\tif ( window.isSecureContext === false ) {\n\n\t\t\t\tmessage.href = document.location.href.replace( /^http:/, 'https:' );\n\t\t\t\tmessage.innerHTML = 'WEBXR NEEDS HTTPS'; // TODO Improve message\n\n\t\t\t} else {\n\n\t\t\t\tmessage.href = 'https://immersiveweb.dev/';\n\t\t\t\tmessage.innerHTML = 'WEBXR NOT AVAILABLE';\n\n\t\t\t}\n\n\t\t\tmessage.style.left = 'calc(50% - 90px)';\n\t\t\tmessage.style.width = '180px';\n\t\t\tmessage.style.textDecoration = 'none';\n\n\t\t\tstylizeElement( message );\n\n\t\t\treturn message;\n\n\t\t}\n\n\t}\n\n\tstatic registerSessionGrantedListener() {\n\n\t\tif ( typeof navigator !== 'undefined' && 'xr' in navigator ) {\n\n\t\t\t// WebXRViewer (based on Firefox) has a bug where addEventListener\n\t\t\t// throws a silent exception and aborts execution entirely.\n\t\t\tif ( /WebXRViewer\\//i.test( navigator.userAgent ) ) return;\n\n\t\t\tnavigator.xr.addEventListener( 'sessiongranted', () => {\n\n\t\t\t\tVRButton.xrSessionIsGranted = true;\n\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n}\n\nVRButton.xrSessionIsGranted = false;\nVRButton.registerSessionGrantedListener();\n\nexport { VRButton };\n"],"names":["class","_createElementVNode","id","_hoisted_2","_hoisted_3","_createElementBlock","_hoisted_1","_hoisted_4","RGBELoader","DataTextureLoader","constructor","manager","super","this","type","HalfFloatType","parse","buffer","rgbe_read_error","rgbe_write_error","rgbe_format_error","rgbe_memory_error","rgbe_error","rgbe_error_code","msg","Error","RGBE_VALID_PROGRAMTYPE","RGBE_VALID_FORMAT","RGBE_VALID_DIMENSIONS","NEWLINE","fgets","lineLimit","consume","chunkSize","p","pos","i","len","s","chunk","String","fromCharCode","apply","Uint16Array","subarray","indexOf","byteLength","length","slice","RGBE_ReadHeader","magic_token_re","gamma_re","exposure_re","format_re","dimensions_re","header","valid","string","comments","programtype","format","gamma","exposure","width","height","line","match","charAt","parseFloat","parseInt","RGBE_ReadPixels_RLE","w","h","scanline_width","Uint8Array","data_rgba","offset","ptr_end","rgbeStart","scanline_buffer","num_scanlines","count","ptr","isEncodedRun","byteValue","set","l","off","RGBEByteToRGBFloat","sourceArray","sourceOffset","destArray","destOffset","e","scale","Math","pow","RGBEByteToRGBHalf","DataUtils","toHalfFloat","min","byteArray","rgbe_header_info","image_rgba_data","data","numElements","FloatType","floatArray","Float32Array","j","halfArray","setDataType","value","load","url","onLoad","onProgress","onError","onLoadCallback","texture","texData","colorSpace","LinearSRGBColorSpace","minFilter","LinearFilter","magFilter","generateMipmaps","flipY","Reflector","Mesh","geometry","options","isReflector","camera","PerspectiveCamera","scope","color","undefined","Color","textureWidth","textureHeight","clipBias","shader","ReflectorShader","multisample","reflectorPlane","Plane","normal","Vector3","reflectorWorldPosition","cameraWorldPosition","rotationMatrix","Matrix4","lookAtPosition","clipPlane","Vector4","view","target","q","textureMatrix","virtualCamera","renderTarget","WebGLRenderTarget","samples","material","ShaderMaterial","name","uniforms","UniformsUtils","clone","fragmentShader","vertexShader","onBeforeRender","renderer","scene","setFromMatrixPosition","matrixWorld","extractRotation","applyMatrix4","subVectors","dot","reflect","negate","add","position","copy","up","lookAt","far","updateMatrixWorld","projectionMatrix","multiply","matrixWorldInverse","setFromNormalAndCoplanarPoint","x","y","z","constant","sign","elements","multiplyScalar","visible","currentRenderTarget","getRenderTarget","currentXrEnabled","xr","enabled","currentShadowAutoUpdate","shadowMap","autoUpdate","setRenderTarget","state","buffers","depth","setMask","autoClear","clear","render","viewport","dispose","HTMLMesh","dom","HTMLTexture","PlaneGeometry","image","MeshBasicMaterial","map","toneMapped","transparent","onEvent","event","dispatchDOMEvent","addEventListener","canvases","delete","removeEventListener","CanvasTexture","html2canvas","anisotropy","SRGBColorSpace","observer","MutationObserver","scheduleUpdate","setTimeout","update","config","attributes","childList","subtree","characterData","observe","htmlevent","needsUpdate","disconnect","clearTimeout","WeakMap","element","range","document","createRange","Clipper","context","clips","isClipping","doClip","restore","minX","Infinity","minY","maxX","maxY","clip","max","save","beginPath","rect","push","remove","pop","drawText","style","textTransform","toUpperCase","font","fontWeight","fontSize","fontFamily","textBaseline","fillStyle","fillText","buildRectPath","r","moveTo","arcTo","closePath","drawBorder","which","borderWidth","borderStyle","borderColor","strokeStyle","lineWidth","lineTo","stroke","drawElement","nodeType","Node","TEXT_NODE","selectNode","getBoundingClientRect","left","top","nodeValue","trim","COMMENT_NODE","HTMLCanvasElement","display","dpr","window","devicePixelRatio","drawImage","HTMLImageElement","getComputedStyle","borderRadius","backgroundColor","fill","borders","prevBorder","border","borderTopWidth","borderTopStyle","borderTopColor","HTMLInputElement","accentColor","luminance","sqrt","g","b","accentTextColor","checked","currentTextAlign","textAlign","properties","property","clipper","paddingLeft","paddingTop","overflow","childNodes","canvas","get","createElement","getContext","clearRect","mouseEventInit","clientX","offsetWidth","offsetLeft","clientY","offsetHeight","offsetTop","ownerDocument","defaultView","dispatchEvent","MouseEvent","traverse","right","bottom","offsetX","proportion","InputEvent","bubbles","_pointer","Vector2","_event","InteractiveGroup","Group","raycaster","Raycaster","tempMatrix","domElement","onPointerEvent","stopPropagation","setFromCamera","intersects","intersectObjects","children","intersection","object","uv","events","onXRControllerEvent","controller","identity","ray","origin","direction","intersections","controller1","getController","controller2","t","n","parent","_disabled","_hidden","initialValue","getValue","classList","$name","nextNameID","$widget","$disable","appendChild","controllers","$children","_listenCallback","bind","_name","innerHTML","onChange","_onChange","_callOnChange","call","_changed","onFinishChange","_onFinishChange","_callOnFinishChange","reset","setValue","enable","disable","toggle","toggleAttribute","show","hide","destroy","step","decimals","listen","_listening","_listenCallbackID","cancelAnimationFrame","requestAnimationFrame","_listenPrevValue","updateDisplay","splice","removeChild","$input","setAttribute","toString","padStart","isPrimitive","fromHexString","toHexString","substring","Array","isArray","Object","o","a","$text","$display","_format","find","_rgbScale","_initialValueHexString","_textFocused","_setValueFromHexString","select","$button","preventDefault","passive","d","_initInput","_getImplicitStep","_decimals","_min","_onUpdateMinMax","_max","_step","_stepExplicit","_hasSlider","$fill","_inputFocused","toFixed","isNaN","_snapClampSetValue","abs","blur","_setDraggingStyle","_arrowKeyMultiplier","_snap","_clamp","code","_normalizeMouseWheel","_initSlider","$slider","insertBefore","touches","_hasScrollBar","deltaX","deltaY","body","_hasMin","_hasMax","floor","wheelDelta","shiftKey","altKey","round","toPrecision","root","scrollHeight","clientHeight","c","$select","_values","values","_names","keys","forEach","selectedIndex","u","autoPlace","container","title","injectStyles","touchStyles","folders","_closed","$title","openAnimated","click","querySelector","head","setProperty","console","error","addColor","addFolder","_title","open","close","controllersRecursive","parentElement","from","concat","foldersRecursive","Stats","mode","addPanel","panel","showPanel","cssText","beginTime","performance","Date","now","prevTime","frames","fpsPanel","Panel","msPanel","self","memory","memPanel","REVISION","begin","end","time","usedJSHeapSize","jsHeapSizeLimit","setMode","fg","bg","PR","WIDTH","HEIGHT","TEXT_X","TEXT_Y","GRAPH_X","GRAPH_Y","GRAPH_WIDTH","GRAPH_HEIGHT","fillRect","globalAlpha","maxValue","mounted","reflector","stats","statsMesh","parameters","radius","tube","tubularSegments","radialSegments","thickness","init","THREE","mapping","background","environment","innerWidth","innerHeight","torusGeometry","torusMaterial","transmission","roughness","metalness","side","torus","cylinderGeometry","cylinderMaterial","cylinder","rotation","PI","frameGeometry","frameMaterial","frame","antialias","setPixelRatio","setSize","toneMapping","toneMappingExposure","rendererWrapper","getElementById","VRButton","createButton","onWindowResize","setFromPoints","controllerModelFactory","XRControllerModelFactory","controllerGrip1","getControllerGrip","createControllerModel","controllerGrip2","onThicknessChange","gui","GUI","visibility","group","mesh","setScalar","aspect","updateProjectionMatrix","animate","setAnimationLoop","getObjectByName","onComponentUnmounted","vrButton","unmounted","Event","__exports__","button","showEnterVR","currentSession","async","onSessionStarted","session","onSessionEnded","setSession","textContent","cursor","onmouseenter","opacity","onmouseleave","onclick","sessionInit","optionalFeatures","navigator","requestSession","then","disableButton","showWebXRNotFound","showVRNotAllowed","exception","warn","stylizeElement","padding","outline","zIndex","isSessionSupported","supported","xrSessionIsGranted","catch","message","isSecureContext","href","location","replace","textDecoration","registerSessionGrantedListener","test","userAgent"],"sourceRoot":""}